<?xml version="1.0" encoding="UTF-8"?>
<svg width="900" height="400" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="900" height="400" fill="#f8f9fa"/>
  
  <!-- Define arrowhead marker -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#666"/>
    </marker>
    <marker id="arrowhead-light" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#999"/>
    </marker>
  </defs>
  
  <!-- LEFT SIDE: Kubernetes Pods -->
  <g id="kubernetes">
    <!-- Main container -->
    <rect x="20" y="80" width="140" height="240" rx="8" fill="none" stroke="#333" stroke-width="2"/>
    <text x="90" y="105" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">Kubernetes Pods</text>
    
    <!-- Pod 1 -->
    <rect x="35" y="120" width="110" height="50" rx="4" fill="#E8E8E8" stroke="#666" stroke-width="1.5"/>
    <text x="90" y="152" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#333">Pod 1</text>
    
    <!-- Pod 2 -->
    <rect x="35" y="180" width="110" height="50" rx="4" fill="#E8E8E8" stroke="#666" stroke-width="1.5"/>
    <text x="90" y="212" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#333">Pod 2</text>
    
    <!-- Pod 3 -->
    <rect x="35" y="240" width="110" height="50" rx="4" fill="#E8E8E8" stroke="#666" stroke-width="1.5"/>
    <text x="90" y="272" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#333">Pod 3</text>
  </g>
  
  <!-- MIDDLE: Collectors/Backends -->
  
  <!-- Prometheus -->
  <g id="prometheus">
    <rect x="230" y="50" width="140" height="60" rx="6" fill="#E6522C"/>
    <text x="300" y="75" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">Prometheus</text>
    <text x="300" y="95" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">(metrics)</text>
  </g>
  
  <!-- Grafana Loki -->
  <g id="loki">
    <rect x="230" y="130" width="140" height="60" rx="6" fill="#F2A626"/>
    <text x="300" y="155" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">Grafana Loki</text>
    <text x="300" y="175" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">(logs)</text>
  </g>
  
  <!-- Jaeger -->
  <g id="jaeger">
    <rect x="230" y="210" width="140" height="60" rx="6" fill="#66CFE0"/>
    <text x="300" y="235" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">Jaeger</text>
    <text x="300" y="255" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">(traces)</text>
  </g>
  
  <!-- Sentry -->
  <g id="sentry">
    <rect x="230" y="290" width="140" height="60" rx="6" fill="#362D59"/>
    <text x="300" y="315" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">Sentry</text>
    <text x="300" y="335" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">(exceptions)</text>
  </g>
  
  <!-- LEFT ARROWS: Signal flow between Pods and Collectors -->
  <!-- Prometheus scrapes metrics FROM pods (pull model) -->
  <line x1="230" y1="80" x2="160" y2="145" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="175" y="100" font-family="Arial, sans-serif" font-size="10" fill="#666" font-weight="500">scrapes</text>

  <!-- Loki scrapes logs FROM pods (pull model) -->
  <line x1="230" y1="160" x2="160" y2="180" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="178" y="165" font-family="Arial, sans-serif" font-size="10" fill="#666" font-weight="500">scrapes</text>

  <!-- Pods push traces to Jaeger (push model) -->
  <line x1="160" y1="220" x2="230" y2="240" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="172" y="235" font-family="Arial, sans-serif" font-size="10" fill="#666" font-weight="500">pushes spans</text>

  <!-- Pods send exceptions to Sentry via DSN (push model) -->
  <line x1="160" y1="275" x2="230" y2="320" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="172" y="305" font-family="Arial, sans-serif" font-size="10" fill="#666" font-weight="500">sends via DSN</text>
  
  <!-- RIGHT SIDE: Grafana Central Hub -->
  <g id="grafana">
    <rect x="550" y="130" width="150" height="140" rx="6" fill="#FF6600"/>
    <text x="625" y="190" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">Grafana</text>    
  </g>
  
  <!-- RIGHT ARROWS: Collectors to Grafana -->
  <!-- Arrow from Prometheus -->
  <line x1="370" y1="80" x2="550" y2="150" stroke="#999" stroke-width="2" marker-end="url(#arrowhead-light)"/>
  <text x="450" y="105" font-family="Arial, sans-serif" font-size="9" fill="#999" font-weight="500">data sources</text>
  
  <!-- Arrow from Loki -->
  <line x1="370" y1="160" x2="550" y2="170" stroke="#999" stroke-width="2" marker-end="url(#arrowhead-light)"/>
  <text x="450" y="155" font-family="Arial, sans-serif" font-size="9" fill="#999" font-weight="500">data sources</text>
  
  <!-- Arrow from Jaeger -->
  <line x1="370" y1="240" x2="550" y2="220" stroke="#999" stroke-width="2" marker-end="url(#arrowhead-light)"/>
  <text x="450" y="240" font-family="Arial, sans-serif" font-size="9" fill="#999" font-weight="500">data sources</text>
  
  <!-- Sentry Dashboard (standalone) -->
  <g id="sentry-dashboard">
    <rect x="550" y="290" width="150" height="60" rx="6" fill="#362D59"/>
    <text x="625" y="315" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">Sentry Dashboard</text>
  </g>

  <!-- Arrow from Sentry to Sentry Dashboard -->
  <line x1="370" y1="320" x2="550" y2="320" stroke="#999" stroke-width="2" marker-end="url(#arrowhead-light)"/>

  <!-- Right edge decoration/border -->
  <rect x="720" y="130" width="150" height="140" rx="6" fill="none" stroke="#ddd" stroke-width="1" stroke-dasharray="5,5" opacity="0.5"/>
  <text x="795" y="155" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#999" opacity="0.7">Observability</text>
  <text x="795" y="172" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#999" opacity="0.7">Platform</text>
</svg>
