# Milestone v1.5: Database Compass

**Status:** SHIPPED 2026-02-22
**Phases:** 28-32
**Total Plans:** 10

## Overview

Database Compass is an interactive database model explorer at /tools/db-compass/ that helps developers understand and select the right database model for their use case. 12 database model categories scored across 8 dimensions (4 operational + 4 developer), with a complexity spectrum visualization, octagonal radar charts, sortable scoring table, and full SEO infrastructure. Follows the Beauty Index content pillar pattern — build-time SVG charts, Astro content collections, Zod-validated JSON data, and Satori+Sharp OG images. Zero new npm dependencies. Companion blog post: "How to Choose a Database in 2026."

## Phases

### Phase 28: Data Foundation

**Goal**: All 12 database model categories exist as validated, content-complete JSON data ready for rendering — with scores, justifications, use cases, tradeoffs, top databases, and cross-category metadata
**Depends on**: Nothing (first phase of v1.5)
**Plans**: 2 plans

Plans:
- [x] 28-01: Zod schema, dimension definitions, and content collection registration
- [x] 28-02: 12 database model entries with scores, justifications, and metadata

**Details:**
- Created comprehensive Zod schema (dbModelSchema) with nested scores, justifications, CAP theorem, topDatabases validation
- 8 dimension definitions with BMP-safe Unicode symbols and compile-time key synchronization
- 12 fully populated model entries with 96 calibrated dimension scores, 50+ top databases
- Content collection registered in Astro 5 with file() loader

### Phase 29: Visualization Components

**Goal**: All visualization primitives render correctly from real data at mobile, tablet, and desktop breakpoints — ready to be assembled into pages
**Depends on**: Phase 28
**Plans**: 2 plans

Plans:
- [x] 29-01: Foundation utilities (DIMENSION_COLORS, spectrum-math.ts) and SVG charts (ComplexitySpectrum, CompassRadarChart)
- [x] 29-02: Score display components (CompassScoreBreakdown, CapBadge) and interactive sortable scoring table

**Details:**
- ComplexitySpectrum SVG with stagger-based collision avoidance for 12 model labels
- CompassRadarChart 8-axis octagonal radar chart with dimension-colored Unicode symbol labels
- CompassScoreBreakdown with colored proportional bars in canonical DIMENSIONS order
- CompassScoringTable with interactive column sorting, sticky model column, keyboard accessibility
- CapBadge with CP/AP/CA/Tunable color-coded classification

### Phase 30: Overview Page

**Goal**: Users can visit /tools/db-compass/ and explore all 12 database models through the spectrum, grid, scoring table, and interactive filters — with proper SEO metadata
**Depends on**: Phase 29
**Plans**: 2 plans

Plans:
- [x] 30-01: Foundation utilities (use-case categories, filter store) and sub-components (ModelCardGrid, DimensionLegend, CompassJsonLd)
- [x] 30-02: UseCaseFilter React island and overview page assembly at /tools/db-compass/

**Details:**
- 58 raw use-case strings mapped into 10 filter categories with zero unmapped strings
- ModelCardGrid with radar chart thumbnails, CAP badges, and data attributes for filter integration
- UseCaseFilter React island with nanostores subscription and DOM manipulation
- JSON-LD Dataset + ItemList and BreadcrumbList structured data
- SEO-optimized meta description at 148 characters

### Phase 31: Detail Pages

**Goal**: Users can navigate to any of 12 model detail pages, understand that model's strengths, tradeoffs, and top databases, share the page, and move between models
**Depends on**: Phase 29, Phase 30
**Plans**: 2 plans

Plans:
- [x] 31-01: ModelNav component and [slug].astro detail page with all content sections, prev/next navigation, and SEO
- [x] 31-02: CompassShareControls with social share links, copy-link, Web Share API, and SVG-to-PNG radar chart download

**Details:**
- 12 model detail pages with radar chart, score breakdown, CAP badge, character sketch, when-to-use/avoid, dimension analysis, top databases
- Prev/next navigation in complexity order (key-value first, multi-model last)
- Share controls with social links (X, LinkedIn, Reddit, Bluesky), copy-link, Web Share API
- SVG-to-PNG radar chart download via XMLSerializer + Canvas
- JSON-LD CreativeWork and BreadcrumbList on each page

### Phase 32: OG Images & Site Integration

**Goal**: Database Compass is fully discoverable — OG images render on social shares, all pages appear in the sitemap, the homepage and tools page link to it, and a companion blog post provides context
**Depends on**: Phase 30, Phase 31
**Plans**: 2 plans

Plans:
- [x] 32-01: OG image generators, API routes, ogImage prop wiring, homepage callout, and tools page card
- [x] 32-02: Companion blog post "How to Choose a Database in 2026" with bidirectional cross-links

**Details:**
- 13 build-time OG PNG images (1 overview with spectrum miniature + 12 detail with radar charts)
- Aliased DB Compass imports to avoid Beauty Index name collisions
- Homepage callout card placed after Dockerfile Analyzer callout
- Tools listing page Coming Soon placeholder replaced with real card
- 151-line companion blog post with 15 cross-links to DB Compass pages

---

## Milestone Summary

**Key Decisions:**
- Zero new npm dependencies — existing stack fully sufficient
- radar-math.ts reused for 8-axis octagon charts (axis-count agnostic)
- No VS comparison pages (avoids 66+ page OG image explosion)
- Multi-model databases need crossCategory field in schema
- PAGE-05 requires React island for interactive filtering on overview
- Used keyof Scores for Dimension key type to enforce compile-time sync
- BMP-safe Unicode symbols chosen over emoji-range codepoints
- Scored all models one dimension at a time to prevent calibration drift
- Fixed accent color #c44b20 for all radar charts (no tier-based coloring)
- UseCaseFilter follows LanguageFilter.tsx pattern exactly
- SVG-to-PNG via XMLSerializer + Canvas with viewBox dimensions
- Aliased DB Compass imports to avoid Beauty Index name collisions

**Issues Resolved:**
- 7 unmapped use cases found and mapped to appropriate categories (58/58 coverage)
- Invalid ARIA role="text" removed from CapBadge (TypeScript strict typing)

**Issues Deferred:**
- Dark mode strategy for charts (light mode CSS custom properties only)
- VS comparison pages deferred to future milestone
- Individual database-level pages deferred

**Technical Debt Incurred:**
- Category colors/grade colors duplicated in badge-generator.ts (carried from v1.4)
- No shared getBlogPostUrl helper — URL resolution duplicated in 3 files (carried from earlier)

---

_For current project status, see .planning/PROJECT.md_
