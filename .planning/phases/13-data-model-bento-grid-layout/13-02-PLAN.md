---
phase: 13-data-model-bento-grid-layout
plan: 02
type: execute
wave: 2
depends_on: ["13-01"]
files_modified:
  - src/pages/projects/index.astro
  - src/components/ProjectHero.astro
  - src/components/ProjectCard.astro
autonomous: true

must_haves:
  truths:
    - "Featured projects appear in a visually distinct hero section above the category grid"
    - "The projects page renders an asymmetric bento grid where large cards span 2 columns on desktop"
    - "Category groups are separated by gradient dividers with data-divider-reveal animation"
    - "Layout is 4-column bento on desktop (lg), 2-column on tablet (sm), single-column stack on mobile"
    - "Featured projects do NOT appear again in their category section (no duplicates)"
    - "Each project card shows its technologies, status, and name/description"
    - "Existing GSAP animations work (data-card-group, data-card-item, data-tilt, data-divider-reveal)"
  artifacts:
    - path: "src/pages/projects/index.astro"
      provides: "Rebuilt projects page with hero section and bento grid layout"
      contains: "grid-cols-1 sm:grid-cols-2 lg:grid-cols-4"
    - path: "src/components/ProjectHero.astro"
      provides: "Featured project hero section component"
      contains: "featured"
    - path: "src/components/ProjectCard.astro"
      provides: "Reusable bento card component with gridSize-driven span classes"
      contains: "gridSize"
  key_links:
    - from: "src/pages/projects/index.astro"
      to: "src/data/projects.ts"
      via: "import { projects, categories }"
      pattern: "from.*projects"
    - from: "src/pages/projects/index.astro"
      to: "src/components/ProjectHero.astro"
      via: "import and render"
      pattern: "ProjectHero"
    - from: "src/pages/projects/index.astro"
      to: "src/components/ProjectCard.astro"
      via: "import and render per category"
      pattern: "ProjectCard"
    - from: "src/components/ProjectCard.astro"
      to: "src/data/projects.ts"
      via: "Project type prop"
      pattern: "Project"
---

<objective>
Rebuild the projects page with a featured hero section, asymmetric bento grid layout per category, gradient dividers, and responsive breakpoints.

Purpose: Transform the uniform 3-column grid into a visually striking bento layout that uses the gridSize data to create visual hierarchy -- large cards span 2 columns, featured projects get a prominent hero section, and categories are clearly separated.
Output: Rebuilt `src/pages/projects/index.astro` with new `ProjectHero.astro` and `ProjectCard.astro` components.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/13-data-model-bento-grid-layout/13-RESEARCH.md
@.planning/phases/13-data-model-bento-grid-layout/13-01-SUMMARY.md
@src/data/projects.ts
@src/pages/projects/index.astro
@src/styles/global.css
@src/lib/scroll-animations.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create ProjectCard and ProjectHero components</name>
  <files>src/components/ProjectCard.astro, src/components/ProjectHero.astro</files>
  <action>
    **ProjectCard.astro** -- A reusable bento card component that accepts a `Project` and renders it with gridSize-driven span classes.

    Props: `project: Project` (import type from `../../data/projects`)

    Implementation:
    - Compute span class from gridSize: large = `sm:col-span-2 lg:col-span-2`, medium/small = `col-span-1`
    - Differentiate small cards from medium via reduced padding: large gets `p-6`, medium gets `p-5`, small gets `p-4`
    - Card structure:
      1. Project name as heading (h3), linked to project.url
      2. Technologies as `tech-pill` spans in a flex-wrap container
      3. Description paragraph
      4. Footer with status badge and link buttons (Source + Live Site if liveUrl exists)
    - Use existing classes: `card-hover`, `rounded-lg`, `border border-[var(--color-border)]`
    - Add `data-card-item` and `data-tilt` attributes for GSAP animation compatibility
    - Status badge styling: 'active' = subtle green-tinted pill, 'experimental' = yellow-tinted pill, 'archived' = gray pill
    - If project has liveUrl, show both "Source" and "Live Site" buttons (reuse existing SVG icons from current page). Otherwise, make the entire card an anchor tag linking to project.url (matching current behavior).
    - The outer element MUST include the computed span class so the grid parent respects it.

    **ProjectHero.astro** -- Renders featured projects in a prominent hero section.

    Props: `projects: Project[]` (the featured projects array)

    Implementation:
    - Container: `<section class="mb-12">` with a heading like "Featured Projects" styled as `meta-mono` uppercase text
    - Grid: `grid grid-cols-1 lg:grid-cols-2 gap-6` with `data-card-group`
    - Each featured card:
      - Larger padding (`p-8`), rounded-xl, accent border (`border-2 border-[var(--color-accent)]/30`)
      - "Featured" badge using `meta-mono` styling with accent color
      - Project name as h3 (text-2xl font-heading font-bold)
      - Description
      - Technologies as `tech-pill` spans
      - Source/Live Site link buttons
      - `data-card-item` and `data-tilt` attributes
    - Use `card-hover` class and `bg-[var(--color-surface-alt)]` for visual distinction from regular cards
  </action>
  <verify>Both files exist and have valid Astro component syntax. Run `npx astro check` -- no errors referencing these components.</verify>
  <done>ProjectCard.astro renders a bento card with gridSize-driven span classes, technologies, and status. ProjectHero.astro renders featured projects in a prominent 2-column hero grid.</done>
</task>

<task type="auto">
  <name>Task 2: Rebuild projects page with hero section and bento grid</name>
  <files>src/pages/projects/index.astro</files>
  <action>
    Rewrite `src/pages/projects/index.astro` to use the new components and bento layout structure.

    **Frontmatter:**
    ```typescript
    import Layout from '../../layouts/Layout.astro';
    import BreadcrumbJsonLd from '../../components/BreadcrumbJsonLd.astro';
    import ProjectHero from '../../components/ProjectHero.astro';
    import ProjectCard from '../../components/ProjectCard.astro';
    import { projects, categories } from '../../data/projects';

    // Separate featured from category groups (avoid duplication - LAYOUT-02)
    const featured = projects.filter(p => p.featured);
    const grouped = categories.map((category) => ({
      category,
      items: projects.filter((p) => p.category === category && !p.featured),
    }));
    ```

    **Page structure (inside Layout):**

    1. **Page header** (keep existing): h1 "Projects" with `data-word-reveal`, intro paragraph with `data-reveal`. Keep the `dot-grid-bg` section wrapper and max-w-6xl constraint.

    2. **Hero section** (LAYOUT-02): Render `<ProjectHero projects={featured} />` immediately after the intro paragraph. Only render if `featured.length > 0`.

    3. **Category sections** (LAYOUT-01, LAYOUT-03): Loop over `grouped` array. For each category:
       - If not the first category, render a gradient divider: `<div class="gradient-divider max-w-6xl mx-auto my-10" data-divider-reveal aria-hidden="true"></div>` (LAYOUT-03)
       - Category heading: h2 with `data-word-reveal`, same styling as current
       - Bento grid container: `<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 grid-flow-dense" data-card-group>` (LAYOUT-01, LAYOUT-04)
       - Render `<ProjectCard project={item} />` for each item in the category
       - Use `grid-flow-dense` to let CSS auto-fill gaps around large spanning cards

    4. **GitHub CTA** (keep existing): "View all repositories on GitHub" link at the bottom with `data-reveal`.

    5. **BreadcrumbJsonLd** (keep existing): Same as current.

    **Responsive breakpoints** (LAYOUT-04):
    - Mobile (< 640px): `grid-cols-1` -- single column stack, all cards full width
    - Tablet (640px+): `sm:grid-cols-2` -- 2-column grid
    - Desktop (1024px+): `lg:grid-cols-4` -- 4-column bento grid where large cards span 2 columns

    **Critical: do NOT use `col-span-2` without responsive prefix.** Always `sm:col-span-2 lg:col-span-2` to prevent mobile overflow (Pitfall 1 from research).

    **Preserve existing SEO:** Keep the same title, description meta, and BreadcrumbJsonLd. Keep `dot-grid-bg` section wrapper.
  </action>
  <verify>Run `npx astro build` -- build succeeds with zero errors. Verify the output HTML at `dist/projects/index.html` contains: (1) a hero section with featured projects, (2) grid containers with `grid-cols-1 sm:grid-cols-2 lg:grid-cols-4`, (3) gradient-divider elements between categories, (4) data-card-group and data-card-item attributes.</verify>
  <done>Projects page renders hero section with 2 featured projects, 4 category sections with bento grids separated by gradient dividers, responsive breakpoints at sm/lg. Build passes. No duplicate featured projects in category sections.</done>
</task>

</tasks>

<verification>
- `npx astro build` succeeds with zero errors
- Projects page HTML contains hero section with 2 featured project cards
- Each category section has a bento grid with `grid-cols-1 sm:grid-cols-2 lg:grid-cols-4`
- Large cards have `sm:col-span-2 lg:col-span-2` class (NOT bare `col-span-2`)
- Gradient dividers exist between category sections with `data-divider-reveal`
- All grid containers have `data-card-group`, all cards have `data-card-item`
- Featured projects (kps-graph-agent, kps-cluster-deployment) appear ONLY in hero, not in categories
- Total cards on page: 2 (hero) + 14 (categories) = 16 unique projects
</verification>

<success_criteria>
LAYOUT-01: Bento grid with asymmetric card sizes (large=2col, medium/small=1col) renders correctly
LAYOUT-02: Featured projects display in hero section above category grid
LAYOUT-03: Gradient dividers separate category sections with data-divider-reveal animation
LAYOUT-04: Desktop=4col bento, tablet=2col, mobile=1col stack
No duplicate projects on page
Existing GSAP animations (card stagger, divider reveal, tilt) continue working
Build passes with zero errors
</success_criteria>

<output>
After completion, create `.planning/phases/13-data-model-bento-grid-layout/13-02-SUMMARY.md`
</output>
