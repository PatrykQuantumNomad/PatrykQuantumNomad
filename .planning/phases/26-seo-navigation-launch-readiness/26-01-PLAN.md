---
phase: 26-seo-navigation-launch-readiness
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/Header.astro
  - src/components/DockerfileAnalyzerJsonLd.astro
  - src/pages/tools/index.astro
  - src/pages/tools/dockerfile-analyzer/index.astro
autonomous: true
requirements: [NAV-01, NAV-02, SEO-01, SEO-03, SEO-04]

must_haves:
  truths:
    - "Site header navigation includes a 'Tools' link that navigates to /tools/dockerfile-analyzer/"
    - "Tool page has visual breadcrumb navigation showing Home > Tools > Dockerfile Analyzer"
    - "Tool page includes SoftwareApplication JSON-LD structured data"
    - "Tool page includes BreadcrumbJsonLd with correct 3-level hierarchy"
    - "Visiting /tools/ redirects (301) to /tools/dockerfile-analyzer/"
    - "Tool page and all 39 rule pages appear in the sitemap"
    - "Tool page meta description contains 'Dockerfile linter' keyword"
  artifacts:
    - path: "src/components/Header.astro"
      provides: "Tools nav link in navLinks array"
      contains: "Tools"
    - path: "src/components/DockerfileAnalyzerJsonLd.astro"
      provides: "SoftwareApplication JSON-LD for tool page"
      contains: "SoftwareApplication"
    - path: "src/pages/tools/index.astro"
      provides: "301 redirect from /tools/ to /tools/dockerfile-analyzer/"
      contains: "redirect"
    - path: "src/pages/tools/dockerfile-analyzer/index.astro"
      provides: "Breadcrumbs (visual + JSON-LD) and DockerfileAnalyzerJsonLd on tool page"
      contains: "BreadcrumbJsonLd"
  key_links:
    - from: "src/components/Header.astro"
      to: "/tools/dockerfile-analyzer/"
      via: "navLinks array entry with label Tools"
      pattern: "href.*tools/dockerfile-analyzer"
    - from: "src/pages/tools/dockerfile-analyzer/index.astro"
      to: "src/components/DockerfileAnalyzerJsonLd.astro"
      via: "component import and render"
      pattern: "DockerfileAnalyzerJsonLd"
    - from: "src/pages/tools/dockerfile-analyzer/index.astro"
      to: "src/components/BreadcrumbJsonLd.astro"
      via: "component import with crumbs prop"
      pattern: "BreadcrumbJsonLd.*crumbs"
---

<objective>
Add the Dockerfile Analyzer to site navigation, create SoftwareApplication JSON-LD structured data, add breadcrumb navigation to the tool page, create a /tools/ redirect page, optimize meta descriptions, and verify sitemap inclusion.

Purpose: Make the Dockerfile Analyzer discoverable via site navigation and search engines, with proper structured data (SoftwareApplication JSON-LD, BreadcrumbList JSON-LD) and fix the existing /tools/ 404 from Phase 25 rule page breadcrumbs.
Output: Navigation link, DockerfileAnalyzerJsonLd component, /tools/ redirect, breadcrumbs (JSON-LD + visual) on tool page, optimized meta description, sitemap verification.
</objective>

<execution_context>
@/Users/patrykattc/.claude/get-shit-done/workflows/execute-plan.md
@/Users/patrykattc/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/26-seo-navigation-launch-readiness/26-RESEARCH.md
@src/components/Header.astro
@src/components/BreadcrumbJsonLd.astro
@src/components/BeautyIndexJsonLd.astro
@src/pages/tools/dockerfile-analyzer/index.astro
@src/pages/tools/dockerfile-analyzer/rules/[code].astro
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add Tools nav link, create DockerfileAnalyzerJsonLd component, and /tools/ redirect</name>
  <files>src/components/Header.astro, src/components/DockerfileAnalyzerJsonLd.astro, src/pages/tools/index.astro</files>
  <action>
  1. In `src/components/Header.astro`, add a "Tools" entry to the `navLinks` array. Place it after "Beauty Index" and before "Projects":
     ```
     { href: '/tools/dockerfile-analyzer/', label: 'Tools' },
     ```
     The final order should be: Home, Blog, Beauty Index, Tools, Projects, About, Contact (7 items). The "Tools" label is short (5 chars) to avoid desktop nav overflow. The `isActive` logic (`currentPath.startsWith(link.href)`) already handles sub-page highlighting for paths like `/tools/dockerfile-analyzer/rules/dl3006/`.

  2. Create `src/components/DockerfileAnalyzerJsonLd.astro` following the existing JSON-LD component pattern (like `BeautyIndexJsonLd.astro`). No props needed — the data is static. The component should:
     - Build a JSON-LD object with:
       - `@context: "https://schema.org"`
       - `@type: "SoftwareApplication"`
       - `name: "Dockerfile Analyzer"`
       - `description: "Free browser-based Dockerfile linter and best-practice analyzer. 39 rules across security, efficiency, maintainability, reliability, and best practices. Scored by a Kubernetes architect with 17+ years of experience."`
       - `url: "https://patrykgolabek.dev/tools/dockerfile-analyzer/"`
       - `applicationCategory: "DeveloperApplication"`
       - `operatingSystem: "Web Browser"`
       - `softwareVersion: "1.0"`
       - `featureList` array with 6 items: "39 lint rules based on Hadolint DL codes and production Kubernetes experience", "Category-weighted scoring with letter grades (A+ through F)", "Inline CodeMirror annotations with severity-colored gutter markers", "100% client-side analysis — no data transmitted", "Dockerfile syntax highlighting with CodeMirror 6", "Click-to-navigate from findings to source lines"
       - `offers: { "@type": "Offer", "price": "0", "priceCurrency": "USD" }`
       - `author: { "@type": "Person", "@id": "https://patrykgolabek.dev/#person" }`
       - `isPartOf: { "@type": "WebSite", "@id": "https://patrykgolabek.dev/#website" }`
     - Render via `<script type="application/ld+json" set:html={JSON.stringify(schema)} />`

  3. Create `src/pages/tools/index.astro` as a minimal redirect page. The rule pages from Phase 25 already link to `/tools/` in their breadcrumbs, and without this page those links produce a 404. The entire file content:
     ```astro
     ---
     // Redirect /tools/ to the Dockerfile Analyzer (the only tool currently)
     return Astro.redirect('/tools/dockerfile-analyzer/', 301);
     ---
     ```
  </action>
  <verify>Run `npx astro build` -- no errors. Visually confirm DockerfileAnalyzerJsonLd.astro and tools/index.astro exist. Confirm Header.astro has 7 nav links.</verify>
  <done>Header.astro has 7 nav links with "Tools" between "Beauty Index" and "Projects". DockerfileAnalyzerJsonLd.astro component exists with SoftwareApplication schema. /tools/ redirect page exists.</done>
</task>

<task type="auto">
  <name>Task 2: Add breadcrumbs, structured data, and optimized meta description to tool page, then verify sitemap</name>
  <files>src/pages/tools/dockerfile-analyzer/index.astro</files>
  <action>
  Update `src/pages/tools/dockerfile-analyzer/index.astro` to add breadcrumbs (visual + JSON-LD), the DockerfileAnalyzerJsonLd component, and an optimized meta description.

  1. Add imports at the top of the frontmatter:
     ```
     import BreadcrumbJsonLd from '../../../components/BreadcrumbJsonLd.astro';
     import DockerfileAnalyzerJsonLd from '../../../components/DockerfileAnalyzerJsonLd.astro';
     ```

  2. Add a `siteBase` constant (matching the pattern from `[code].astro`):
     ```
     const siteBase = (Astro.site?.toString() ?? 'https://patrykgolabek.dev').replace(/\/$/, '');
     ```

  3. Update the `description` prop on the Layout component to the SEO-optimized version:
     ```
     description="Free Dockerfile linter and best-practice analyzer by a Kubernetes architect. 39 rules for security, efficiency, and maintainability. 100% browser-based — your code never leaves your device."
     ```
     This adds "Dockerfile linter" (high-value search term), "free" (conversion signal), and "39 rules" (specificity).

  4. Inside the `<section>`, before the `<h1>`, add visual breadcrumb navigation matching the pattern from `[code].astro`:
     ```astro
     <nav aria-label="Breadcrumb" class="mb-4 text-sm text-[var(--color-text-secondary)]">
       <ol class="flex flex-wrap items-center gap-1">
         <li><a href="/" class="hover:text-[var(--color-accent)] transition-colors">Home</a></li>
         <li aria-hidden="true" class="mx-1">/</li>
         <li><a href="/tools/" class="hover:text-[var(--color-accent)] transition-colors">Tools</a></li>
         <li aria-hidden="true" class="mx-1">/</li>
         <li><span aria-current="page" class="text-[var(--color-text-primary)] font-medium">Dockerfile Analyzer</span></li>
       </ol>
     </nav>
     ```
     Note: The "Tools" breadcrumb link goes to `/tools/` which now redirects correctly (Task 1).

  5. Inside `<Layout>`, at the end before the closing `</Layout>` tag, add the JSON-LD components:
     ```astro
     <BreadcrumbJsonLd crumbs={[
       { name: 'Home', url: siteBase },
       { name: 'Tools', url: `${siteBase}/tools/` },
       { name: 'Dockerfile Analyzer', url: `${siteBase}/tools/dockerfile-analyzer/` },
     ]} />
     <DockerfileAnalyzerJsonLd />
     ```

  6. After completing the file edits, build and verify the sitemap:
     ```bash
     npx astro build
     grep -c "dockerfile-analyzer" dist/sitemap-*.xml
     ```
     Expected: 40 URLs (1 tool page + 39 rule pages). The blog post at `/blog/dockerfile-best-practices/` is auto-included separately under the `blog` prefix. Do NOT add entries to `customPages` in `astro.config.mjs`.
  </action>
  <verify>Run `npx astro build` -- zero errors. Inspect generated HTML for `/tools/dockerfile-analyzer/` and confirm: (1) BreadcrumbList JSON-LD script tag, (2) SoftwareApplication JSON-LD script tag, (3) visual breadcrumb nav element, (4) updated meta description. Run `grep -c "dockerfile-analyzer" dist/sitemap-*.xml` and confirm 40 URLs.</verify>
  <done>Tool page has visual breadcrumbs (Home > Tools > Dockerfile Analyzer), BreadcrumbJsonLd, DockerfileAnalyzerJsonLd, and optimized meta description. Sitemap contains 40 Dockerfile Analyzer URLs (1 tool + 39 rules).</done>
</task>

</tasks>

<verification>
- `npx astro build` completes with zero errors
- Header navigation shows 7 links including "Tools" pointing to /tools/dockerfile-analyzer/
- Generated HTML for `/tools/dockerfile-analyzer/` contains:
  - `<script type="application/ld+json">` with `"@type": "SoftwareApplication"`
  - `<script type="application/ld+json">` with `"@type": "BreadcrumbList"`
  - Visual breadcrumb `<nav aria-label="Breadcrumb">`
  - Meta description containing "Dockerfile linter"
- `/tools/` page returns 301 redirect to `/tools/dockerfile-analyzer/`
- Sitemap includes 40 Dockerfile Analyzer URLs
</verification>

<success_criteria>
- "Tools" link appears in site navigation between "Beauty Index" and "Projects"
- SoftwareApplication JSON-LD renders on tool page
- BreadcrumbList JSON-LD renders on tool page with 3-level hierarchy
- Visual breadcrumbs visible on tool page
- /tools/ redirect works (fixing Phase 25 breadcrumb link)
- All 40 Dockerfile Analyzer URLs present in sitemap
- Meta description optimized with "Dockerfile linter" keyword
</success_criteria>

<output>
After completion, create `.planning/phases/26-seo-navigation-launch-readiness/26-01-SUMMARY.md`
</output>
