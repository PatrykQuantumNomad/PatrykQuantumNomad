---
phase: 55-site-integration-seo-polish
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/Header.astro
  - src/pages/index.astro
  - src/components/eda/EDAJsonLd.astro
  - src/components/eda/TechniquePage.astro
  - src/components/eda/DistributionPage.astro
  - src/pages/eda/index.astro
  - src/pages/eda/foundations/[slug].astro
  - src/pages/eda/case-studies/[slug].astro
  - src/pages/eda/reference/[slug].astro
  - src/pages/llms.txt.ts
  - src/pages/llms-full.txt.ts
autonomous: true
requirements: [SITE-01, SITE-02, SITE-03, SITE-04, SITE-05, SITE-06]

must_haves:
  truths:
    - "EDA link appears in the site header navigation between DB Compass and Tools"
    - "Homepage displays a Reference Guides section with 3 cards in a row (Beauty Index, DB Compass, EDA)"
    - "Every EDA page has JSON-LD structured data with TechArticle/LearningResource types"
    - "Every EDA page has a unique SEO meta description (already wired via EDALayout -> Layout -> SEOHead)"
    - "All EDA pages appear in the sitemap (auto-included by @astrojs/sitemap)"
    - "LLMs.txt and llms-full.txt include an EDA Visual Encyclopedia section"
  artifacts:
    - path: "src/components/Header.astro"
      provides: "EDA nav link at position 5 (between DB Compass and Tools)"
      contains: "{ href: '/eda/', label: 'EDA' }"
    - path: "src/pages/index.astro"
      provides: "3-column Reference Guides grid with EDA callout card"
      contains: "lg:grid-cols-3"
    - path: "src/components/eda/EDAJsonLd.astro"
      provides: "Reusable JSON-LD component for EDA pages"
      contains: "TechArticle"
    - path: "src/pages/llms.txt.ts"
      provides: "EDA section in LLMs.txt"
      contains: "EDA Visual Encyclopedia"
    - path: "src/pages/llms-full.txt.ts"
      provides: "Detailed EDA section in LLMs-full.txt"
      contains: "EDA Visual Encyclopedia"
  key_links:
    - from: "src/components/eda/TechniquePage.astro"
      to: "src/components/eda/EDAJsonLd.astro"
      via: "import and render in template"
      pattern: "EDAJsonLd"
    - from: "src/components/eda/DistributionPage.astro"
      to: "src/components/eda/EDAJsonLd.astro"
      via: "import and render in template"
      pattern: "EDAJsonLd"
    - from: "src/pages/eda/index.astro"
      to: "src/components/eda/EDAJsonLd.astro"
      via: "import and render with Dataset type"
      pattern: "EDAJsonLd"
---

<objective>
Integrate the EDA Visual Encyclopedia into the site's navigation, homepage, structured data, and LLM discoverability.

Purpose: Make the EDA section discoverable through the header navigation, homepage callout, JSON-LD structured data for search engines, and LLMs.txt for AI crawlers. SEO meta descriptions and sitemap inclusion are already handled by existing infrastructure (EDALayout passes description to Layout which passes to SEOHead; @astrojs/sitemap auto-discovers all static pages).

Output: Header nav link, homepage EDA card in 3-column Reference Guides grid, EDAJsonLd.astro component injected into all EDA page templates, LLMs.txt/llms-full.txt EDA sections.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/55-site-integration-seo-polish/55-RESEARCH.md

@src/components/Header.astro
@src/pages/index.astro
@src/components/BeautyIndexJsonLd.astro
@src/components/eda/TechniquePage.astro
@src/components/eda/DistributionPage.astro
@src/pages/eda/index.astro
@src/pages/llms.txt.ts
@src/pages/llms-full.txt.ts
@src/layouts/EDALayout.astro

<interfaces>
<!-- Key types and contracts the executor needs. -->

From src/components/Header.astro:
```typescript
const navLinks = [
  { href: '/', label: 'Home' },
  { href: '/blog/', label: 'Blog' },
  { href: '/beauty-index/', label: 'Beauty Index' },
  { href: '/db-compass/', label: 'DB Compass' },
  // INSERT { href: '/eda/', label: 'EDA' } HERE (index 4)
  { href: '/tools/', label: 'Tools' },
  { href: '/projects/', label: 'Projects' },
  { href: '/about/', label: 'About' },
  { href: '/contact/', label: 'Contact' },
];
```

From src/pages/index.astro (Reference Guides section, line ~160):
```html
<!-- Currently 2-column grid with Beauty Index + DB Compass cards -->
<div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
  <!-- Change to: grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 -->
```

From src/components/BeautyIndexJsonLd.astro (pattern to follow):
```typescript
const schema = {
  "@context": "https://schema.org",
  "@type": "Dataset",
  // ... properties
};
// Rendered via: <script type="application/ld+json" set:html={JSON.stringify(schema)} />
```

From src/layouts/EDALayout.astro:
```typescript
interface Props {
  title: string;
  description?: string;
  ogImage?: string;
  ogImageAlt?: string;
  useKatex?: boolean;
}
// Passes through to Layout.astro which passes to SEOHead.astro
// SITE-04 (unique meta descriptions) is already handled -- each page passes description to EDALayout
```

From src/components/eda/TechniquePage.astro:
```typescript
// Already imports BreadcrumbJsonLd -- add EDAJsonLd import alongside it
import BreadcrumbJsonLd from '../BreadcrumbJsonLd.astro';
```
</interfaces>
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add EDA header nav link and homepage callout card</name>
  <files>
    src/components/Header.astro
    src/pages/index.astro
  </files>
  <action>
    **Header.astro (SITE-01):**
    Insert `{ href: '/eda/', label: 'EDA' }` into the `navLinks` array at index 4 (after DB Compass, before Tools). The label "EDA" is short enough to avoid mobile overflow issues. No other changes needed -- the existing nav rendering loop handles the new entry.

    **index.astro (SITE-02):**
    1. Change the Reference Guides grid from `grid-cols-1 sm:grid-cols-2 gap-6` to `grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6` (matches the Tools section pattern already on the page).
    2. Add an EDA callout card after the DB Compass card, following the exact same card markup pattern (anchor wrapping article with image header and text body). Use these specifics:
       - href="/eda/"
       - Image: Create an inline SVG placeholder showing a mini scatter plot + histogram + distribution curve composite (simple inline SVG, ~20 lines, using CSS custom property colors for theme compatibility). Or use a simple text-based header if SVG is complex -- a `<div>` with a large chart icon and "90+ Pages" badge.
       - Meta text: "90+ Pages" in meta-mono accent
       - Title: "EDA Visual Encyclopedia"
       - Description: "Interactive visual reference for Exploratory Data Analysis covering graphical techniques, quantitative methods, probability distributions, and case studies."
       - CTA: "Explore techniques &rarr;"
       - Apply same data-reveal data-tilt attributes as sibling cards
  </action>
  <verify>
    <automated>cd /Users/patrykattc/work/git/PatrykQuantumNomad && npx astro build 2>&1 | tail -5</automated>
  </verify>
  <done>
    - Header navigation shows 9 items with "EDA" between "DB Compass" and "Tools"
    - Homepage Reference Guides section shows 3 cards in a row on desktop (Beauty Index, DB Compass, EDA)
    - Build completes without errors
  </done>
</task>

<task type="auto">
  <name>Task 2: Create EDAJsonLd component, inject into all EDA pages, and update LLMs.txt</name>
  <files>
    src/components/eda/EDAJsonLd.astro
    src/components/eda/TechniquePage.astro
    src/components/eda/DistributionPage.astro
    src/pages/eda/index.astro
    src/pages/eda/foundations/[slug].astro
    src/pages/eda/case-studies/[slug].astro
    src/pages/eda/reference/[slug].astro
    src/pages/llms.txt.ts
    src/pages/llms-full.txt.ts
  </files>
  <action>
    **EDAJsonLd.astro (SITE-03):**
    Create `src/components/eda/EDAJsonLd.astro` following the BeautyIndexJsonLd.astro pattern. Two modes:

    Mode 1 -- Individual page (technique/distribution/foundation/case-study/reference):
    ```
    Props: { title: string; description: string; url: string; nistSection?: string; pageType?: 'technique' | 'distribution' | 'foundation' | 'case-study' | 'reference' }
    ```
    Schema: `"@type": ["TechArticle", "LearningResource"]` with headline, description, url, datePublished (2026-02-25), dateModified (2026-02-25), inLanguage "en", proficiencyLevel "Expert", learningResourceType "Reference", educationalLevel "Advanced", isBasedOn (NIST handbook with nistSection URL if provided), author and publisher as Person @id, isPartOf pointing to /eda/.

    Mode 2 -- Landing page (when `isOverview: true` prop is set):
    Schema: `"@type": "Dataset"` following the BeautyIndexJsonLd pattern -- name "EDA Visual Encyclopedia", alternateName "Exploratory Data Analysis Visual Encyclopedia 2026", description, url /eda/, datePublished/dateModified, license CC-BY-4.0, creator Person @id, isBasedOn NIST handbook, keywords array.

    Use a single component with conditional rendering based on `isOverview` prop.

    **Inject into TechniquePage.astro:**
    Import EDAJsonLd. Add `<EDAJsonLd title={technique.title} description={technique.description} url={fullUrl} nistSection={technique.nistSection} pageType="technique" />` alongside the existing BreadcrumbJsonLd. The technique data is already available in the component's props.

    **Inject into DistributionPage.astro:**
    Same pattern -- import EDAJsonLd, render with distribution title/description/url/nistSection.

    **Inject into landing page (src/pages/eda/index.astro):**
    Import EDAJsonLd at the top. Add `<EDAJsonLd isOverview title="EDA Visual Encyclopedia" description="Interactive visual encyclopedia..." url="https://patrykgolabek.dev/eda/" />` in the page template.

    **Inject into foundations/[slug].astro, case-studies/[slug].astro, reference/[slug].astro:**
    Import EDAJsonLd. These dynamic routes already have access to the MDX frontmatter (title, description). Add the component with appropriate pageType. If nistSection is in frontmatter, pass it through.

    **LLMs.txt (SITE-06):**
    In `src/pages/llms.txt.ts`, add an "## EDA Visual Encyclopedia" section between the "## Interactive Tools" section and the "## Beauty Index" section. Include:
    - Brief description (2 lines)
    - Links to key pages: /eda/ overview, 3-4 representative techniques (histogram, scatter-plot, box-plot), 2 distributions (normal, chi-square), 1 case study, 1 reference page

    In `src/pages/llms-full.txt.ts`, add a more detailed EDA section at the same position with:
    - Full description paragraph
    - Category breakdown (graphical techniques, quantitative techniques, distributions, case studies, reference)
    - Links to all major category landing routes

    NOTE on SITE-04: Unique SEO meta descriptions are already handled. Every EDA page passes a `description` prop through EDALayout -> Layout -> SEOHead. The technique and distribution data schemas already include description fields populated in Phase 49. No additional work needed.

    NOTE on SITE-05: Sitemap inclusion is automatic. @astrojs/sitemap auto-discovers all static pages from getStaticPaths(). No configuration changes needed.
  </action>
  <verify>
    <automated>cd /Users/patrykattc/work/git/PatrykQuantumNomad && npx astro build 2>&1 | tail -5 && grep -c "TechArticle" dist/eda/techniques/histogram/index.html && grep -c "EDA Visual Encyclopedia" dist/llms.txt</automated>
  </verify>
  <done>
    - EDAJsonLd.astro exists with dual-mode rendering (individual pages and overview)
    - Technique pages contain JSON-LD with @type ["TechArticle", "LearningResource"]
    - Distribution pages contain JSON-LD with @type ["TechArticle", "LearningResource"]
    - Landing page contains JSON-LD with @type "Dataset"
    - Foundation, case study, and reference pages contain JSON-LD
    - llms.txt contains "EDA Visual Encyclopedia" section
    - llms-full.txt contains detailed EDA section
    - Build completes without errors
  </done>
</task>

</tasks>

<verification>
1. `npx astro build` completes without errors
2. Header.astro navLinks array has 9 entries with EDA at index 4
3. Homepage Reference Guides section uses `lg:grid-cols-3` with 3 cards
4. `grep "TechArticle" dist/eda/techniques/histogram/index.html` returns matches
5. `grep "TechArticle" dist/eda/distributions/normal/index.html` returns matches
6. `grep "Dataset" dist/eda/index.html` returns matches
7. `grep "EDA Visual Encyclopedia" dist/llms.txt` returns matches
8. `grep "EDA Visual Encyclopedia" dist/llms-full.txt` returns matches
9. Sitemap at dist/sitemap-index.xml references EDA URLs (automatic)
</verification>

<success_criteria>
- "EDA" link visible in header navigation at correct position
- Homepage shows 3-column Reference Guides with EDA card
- JSON-LD present on all EDA page types (techniques, distributions, foundations, case studies, reference, landing)
- LLMs.txt and llms-full.txt updated with EDA section
- Build passes cleanly
</success_criteria>

<output>
After completion, create `.planning/phases/55-site-integration-seo-polish/55-01-SUMMARY.md`
</output>
