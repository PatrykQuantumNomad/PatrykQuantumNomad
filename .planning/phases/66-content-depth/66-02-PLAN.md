---
phase: 66-content-depth
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/lib/eda/technique-content/distribution-shape.ts
autonomous: true
requirements: [QUES-01, QUES-02, IMPT-01, IMPT-02, DEFN-01, CASE-01, CASE-02, CASE-03, EXMP-01, EXMP-02]

must_haves:
  truths:
    - "All 9 distribution-shape technique pages display Questions, Importance, and Expanded Definition sections"
    - "histogram, bihistogram, bootstrap-plot, box-plot, normal-probability-plot, probability-plot, and qq-plot show case study pill links"
    - "histogram and normal-probability-plot (Tier B) show interpretive variant captions via examples array"
  artifacts:
    - path: "src/lib/eda/technique-content/distribution-shape.ts"
      provides: "questions, importance, definitionExpanded, caseStudySlugs, examples for 9 techniques"
      contains: "questions:"
  key_links:
    - from: "src/lib/eda/technique-content/distribution-shape.ts"
      to: "src/lib/eda/technique-content/types.ts"
      via: "TechniqueContent interface optional fields"
      pattern: "questions.*importance.*definitionExpanded"
    - from: "distribution-shape.ts caseStudySlugs"
      to: "src/data/eda/pages/case-studies/*.mdx"
      via: "slug resolution in [slug].astro getStaticPaths"
      pattern: "caseStudySlugs.*heat-flow-meter"
---

<objective>
Populate NIST-parity prose content for all 9 distribution-shape techniques, including Tier B variant captions for histogram (8 variants) and normal-probability-plot (4 variants).

Purpose: Distribution-shape is the largest content module (9 techniques) and contains 2 of the 6 Tier B techniques. This plan populates all prose fields and interpretive variant captions for the complete distribution-shape category.

Output: distribution-shape.ts updated with all optional fields populated for 9 techniques.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/66-content-depth/66-RESEARCH.md
@src/lib/eda/technique-content/types.ts
@src/lib/eda/technique-content/distribution-shape.ts

<interfaces>
From src/lib/eda/technique-content/types.ts:
```typescript
export interface TechniqueContent {
  // Required fields (keep unchanged):
  definition: string;
  purpose: string;
  interpretation: string;
  assumptions: string;
  nistReference: string;

  // Optional fields to populate (Phase 66):
  questions?: string[];
  importance?: string;
  definitionExpanded?: string;
  caseStudySlugs?: string[];
  examples?: Array<{ label: string; description: string; variantLabel?: string; }>;

  // Phase 67 -- DO NOT add:
  formulas?: Array<{ label: string; tex: string; explanation: string; }>;
  pythonCode?: string;
}
```
</interfaces>
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add questions, importance, definitionExpanded, and caseStudySlugs to all 9 distribution-shape techniques</name>
  <files>src/lib/eda/technique-content/distribution-shape.ts</files>
  <action>
For each of the 9 technique entries in distribution-shape.ts, add optional fields AFTER the existing `nistReference` field. Keep all existing required fields untouched. Do NOT add `formulas` or `pythonCode` (Phase 67).

**bihistogram:**
- questions: ['Is a (2-level) factor significant?', 'Does a (2-level) factor have an effect?', 'Does the location change between the 2 subgroups?', 'Does the variation change between the 2 subgroups?', 'Does the distributional shape change between subgroups?', 'Are there any outliers?']
- importance: The bihistogram reveals the FULL distributional impact of a two-level factor, not just a shift in means. It detects changes in location, spread, and shape simultaneously, catching effects that a simple t-test would miss. This comprehensive comparison is critical in manufacturing process changes where a shift in variability matters as much as a shift in average.
- definitionExpanded: The upper histogram displays the frequency distribution of one group (e.g., before treatment) and the lower histogram displays the other group (e.g., after treatment) reflected downward on a shared horizontal axis. Both histograms use identical bin widths and bin boundaries so that visual comparison is valid. The back-to-back layout eliminates the alignment ambiguity of overlaid histograms.
- caseStudySlugs: ['ceramic-strength']

**bootstrap-plot:**
- questions: ['What does the sampling distribution for the statistic look like?', 'What is a 95% confidence interval for the statistic?', 'Which statistic has a sampling distribution with the smallest variance?']
- importance: When theoretical confidence interval formulas are unavailable or unreliable (small samples, complex estimators, non-normal data), the bootstrap provides a purely empirical alternative. It answers the fundamental question "how much would my estimate change if I collected new data?" without requiring distributional assumptions.
- definitionExpanded: The bootstrap procedure draws B random samples of size N with replacement from the original dataset, computes the statistic of interest for each resample, and plots the resulting B values as a histogram or density. The 2.5th and 97.5th percentiles of the bootstrap distribution form a 95% nonparametric confidence interval. Standard practice uses B >= 1000 for stable percentile intervals.
- caseStudySlugs: ['uniform-random-numbers']

**box-cox-linearity:**
- questions: ['Would a suitable transformation improve my linear fit?', 'What is the optimal value of the transformation parameter?']
- importance: Many bivariate relationships are non-linear in their original scale but become linear after a power transformation of the predictor. The Box-Cox linearity plot automates the search for this transformation, turning a difficult non-linear modeling problem into a simple linear regression.
- definitionExpanded: The procedure evaluates X^lambda for a range of lambda values (typically -2 to +2) and computes the Pearson correlation between Y and X^lambda at each lambda. The lambda = 0 case uses log(X) by convention. The plot displays correlation vs. lambda, and the peak identifies the optimal transformation. Common special cases: lambda = 1 (no transform), 0.5 (square root), 0 (log), -1 (reciprocal).
- caseStudySlugs: [] -- omit field (no matching case study in site)

**box-cox-normality:**
- questions: ['Is there a transformation that will normalize my data?', 'What is the optimal value of the transformation parameter?']
- importance: Many statistical procedures (t-tests, ANOVA, capability indices) assume normally distributed data. When the raw data are skewed, the Box-Cox normality plot identifies the power transformation that best achieves normality, providing a systematic, data-driven alternative to ad hoc log or square root transforms.
- definitionExpanded: The procedure transforms the data as Y^lambda for a range of lambda values and evaluates the normality of each transformed dataset using the probability plot correlation coefficient (PPCC) or a similar metric. The optimal lambda maximizes normality. The plot typically includes a confidence interval around the peak to indicate the range of lambda values that produce comparable normality. If the interval includes lambda = 1, no transformation is necessary.
- caseStudySlugs: [] -- omit field (no matching case study)

**box-plot:**
- questions: ['Is a factor significant?', 'Does the location differ between subgroups?', 'Does the variation differ between subgroups?', 'Are there any outliers?']
- importance: The box plot is the most widely used graphical tool for comparing groups in designed experiments and process analysis. It provides a compact, standardized five-number summary that enables rapid comparison of location, spread, and symmetry across many groups simultaneously, making it indispensable for factorial analysis and quality control.
- definitionExpanded: The box spans from Q1 (25th percentile) to Q3 (75th percentile), with the median marked as a line within the box. The interquartile range (IQR) = Q3 - Q1 measures the spread of the middle 50% of the data. Whiskers extend to the most extreme observations within 1.5 * IQR from the box edges. Observations beyond the whiskers are plotted individually as potential outliers. The 1.5 * IQR rule identifies approximately 0.7% of observations as outliers under a normal distribution.
- caseStudySlugs: ['ceramic-strength']

**histogram:**
- questions: ['What kind of population distribution do the data come from?', 'Where are the data located (center)?', 'How spread out are the data?', 'Are the data symmetric or skewed?', 'Are there outliers in the data?']
- importance: The histogram is the foundational graphical technique in exploratory data analysis. It provides the most direct visual answer to the question "what does my data look like?" and is the prerequisite for choosing appropriate statistical methods, since nearly every statistical procedure depends on distributional shape assumptions.
- definitionExpanded: The data range is divided into k contiguous, non-overlapping intervals (bins) of equal width. The height of each bar represents the count (or relative frequency) of observations falling in that bin. The number of bins affects the visual impression: too few bins over-smooth and hide structure, too many bins create noise. The Freedman-Diaconis rule (bin width = 2 * IQR * N^{-1/3}) and Sturges rule (k = 1 + log2(N)) provide automatic defaults. An optional kernel density estimate (KDE) overlay provides a smooth probability density curve.
- caseStudySlugs: ['heat-flow-meter']

**normal-probability-plot:**
- questions: ['Are the data normally distributed?', 'What is the nature of the departure from normality (skewed, short tails, long tails)?']
- importance: Normality is the most frequently tested distributional assumption in statistics. The normal probability plot is more sensitive than the histogram for detecting departures from normality because it magnifies tail behavior, which is exactly where non-normality has the greatest impact on statistical inference (confidence intervals, hypothesis tests, capability indices).
- definitionExpanded: The ordered data values Y_{(1)} <= Y_{(2)} <= ... <= Y_{(N)} are plotted against the corresponding expected normal order statistics (theoretical quantiles). If the data are normal, the points fall on a straight line whose slope estimates the standard deviation and whose intercept estimates the mean. The theoretical quantiles are computed using a plotting position formula such as Filliben's (p_i = 1 - 0.5^{1/N} for i=1, p_i = (i - 0.3175)/(N + 0.365) for 1 < i < N, p_i = 0.5^{1/N} for i=N).
- caseStudySlugs: ['heat-flow-meter']

**probability-plot:**
- questions: ['Does a given distribution provide a good fit to the data?', 'What distribution best fits the data?', 'What are good estimates of the location and scale parameters?']
- importance: Choosing the correct distributional model is essential for reliability prediction, process capability analysis, and simulation. The probability plot provides a visual goodness-of-fit assessment for any hypothesized distribution, making it the most versatile single tool for distribution identification. The slope and intercept of the fitted line directly estimate the distribution parameters.
- definitionExpanded: The ordered data are plotted against the quantiles of the hypothesized distribution, with the axis scales chosen so that data from that distribution appear as a straight line. For location-scale families, the intercept estimates the location parameter and the slope estimates the scale parameter. Different distributions require different probability scales: normal scale for the normal, Weibull scale for the Weibull, exponential scale for the exponential, etc. Comparing probability plots for several candidate distributions identifies the best fit.
- caseStudySlugs: ['uniform-random-numbers']

**qq-plot:**
- questions: ['Do two data sets come from populations with a common distribution?', 'Do two data sets have common location and scale?', 'Do two data sets have similar distributional shapes?', 'Do two data sets have similar tail behavior?']
- importance: The Q-Q plot is the most powerful graphical tool for comparing two distributions because it is sensitive to differences in location, scale, and shape simultaneously. It is particularly effective at detecting subtle tail differences that histograms and summary statistics miss, making it essential for two-sample comparison and model validation.
- definitionExpanded: For two-sample comparison, the quantiles of dataset 1 are plotted against the quantiles of dataset 2. If sample sizes differ, the quantiles of the smaller sample are plotted against linearly interpolated quantiles of the larger sample. If the distributions are identical, points fall on the y = x identity line. A linear pattern with slope != 1 indicates a scale difference; a linear pattern shifted from y = x indicates a location difference. Curvature indicates a shape difference.
- caseStudySlugs: ['ceramic-strength']

**Important rules:**
- Do NOT add `formulas` or `pythonCode` fields (Phase 67)
- Do NOT modify existing required fields
- Do NOT include `caseStudySlugs` for box-cox-linearity or box-cox-normality (no matching case studies) -- simply omit the field
- Questions must match NIST research mapping exactly
- Keep the `as const` assertion on the export
  </action>
  <verify>
Run `npx astro build 2>&1 | tail -20` and confirm zero errors. Verify content added: `grep -c "questions:" src/lib/eda/technique-content/distribution-shape.ts` should show 9. Verify case study slugs present: `grep "caseStudySlugs" src/lib/eda/technique-content/distribution-shape.ts | wc -l` should show 7 (the 7 techniques with case studies).
  </verify>
  <done>All 9 distribution-shape techniques have questions, importance, definitionExpanded, and caseStudySlugs (where applicable) populated with NIST-sourced content. Build passes cleanly.</done>
</task>

<task type="auto">
  <name>Task 2: Add Tier B variant captions for histogram (8) and normal-probability-plot (4), plus Tier A examples for box-plot and probability-plot</name>
  <files>src/lib/eda/technique-content/distribution-shape.ts</files>
  <action>
Add `examples` arrays to the Tier B and Tier A techniques in distribution-shape.ts. Each Tier B example has `label`, `description`, and `variantLabel` (MUST match renderer variant labels exactly). Tier A examples have `label` and `description` only (no variantLabel).

**histogram (Tier B -- 8 variants):**
```typescript
examples: [
  {
    label: 'Symmetric (Normal)',
    description: 'A bell-shaped histogram centered on the mean with symmetric tails tapering smoothly on both sides. This is the signature of normally distributed data and confirms that standard statistical methods (t-tests, confidence intervals, capability indices) are appropriate.',
    variantLabel: 'Symmetric',
  },
  {
    label: 'Right Skewed',
    description: 'The histogram peaks on the left side and has a long tail extending to the right. This indicates positively skewed data where a few large values pull the mean above the median. Common in reliability data (time-to-failure), income distributions, and measurements with a natural lower bound.',
    variantLabel: 'Right Skewed',
  },
  {
    label: 'Left Skewed',
    description: 'The histogram peaks on the right side and has a long tail extending to the left. This indicates negatively skewed data where a few small values pull the mean below the median. Less common than right skew, but occurs in failure-time data with wear-out mechanisms.',
    variantLabel: 'Left Skewed',
  },
  {
    label: 'Bimodal',
    description: 'Two distinct peaks separated by a valley, indicating that the data come from a mixture of two populations or processes. Investigation should identify the source of the two modes, such as two machines, two operators, or two material batches.',
    variantLabel: 'Bimodal',
  },
  {
    label: 'Uniform',
    description: 'A flat histogram with roughly equal bar heights across the range, indicating that all values are equally likely. This pattern suggests data from a uniform distribution or a process with no central tendency, and is sometimes seen in rounded or discretized data.',
    variantLabel: 'Uniform',
  },
  {
    label: 'Heavy Tailed',
    description: 'A histogram with more observations in the extreme tails than expected for a normal distribution. The center may appear somewhat peaked. Heavy tails inflate the standard deviation and make normal-theory confidence intervals unreliable. Robust methods or a heavy-tailed model (e.g., t-distribution) may be needed.',
    variantLabel: 'Heavy Tailed',
  },
  {
    label: 'Peaked (Leptokurtic)',
    description: 'A histogram with a sharp central peak and thin tails, indicating a distribution more concentrated around the center than the normal. The excess kurtosis is positive. This can occur when measurement precision is very high relative to process variation.',
    variantLabel: 'Peaked',
  },
  {
    label: 'With Outlier',
    description: 'The main body of the histogram follows a recognizable pattern, but one or more bars appear isolated far from the bulk of the data. These outlying observations may indicate measurement errors, data entry mistakes, or genuine extreme events that require investigation.',
    variantLabel: 'With Outlier',
  },
],
```

**normal-probability-plot (Tier B -- 4 variants):**
```typescript
examples: [
  {
    label: 'Normal Data',
    description: 'Points follow the reference line closely from end to end with only minor random scatter. This confirms that the data are consistent with a normal distribution, and standard normal-theory methods are appropriate.',
    variantLabel: 'Normal',
  },
  {
    label: 'Right Skewed',
    description: 'Points curve below the reference line on the left and above it on the right, forming a concave-up shape. This indicates right (positive) skewness -- the upper tail is heavier than expected for a normal distribution. A log or square root transformation may normalize the data.',
    variantLabel: 'Right Skewed',
  },
  {
    label: 'Heavy Tailed',
    description: 'Points curve away from the reference line at BOTH ends: below the line on the left and above the line on the right, forming an S-shape. This indicates a distribution with heavier tails than the normal (leptokurtic). A t-distribution or similar heavy-tailed model may be more appropriate.',
    variantLabel: 'Heavy Tailed',
  },
  {
    label: 'Bimodal',
    description: 'Points show a step or plateau pattern with a flat region in the middle of the plot. This indicates the data come from a mixture of two populations. The flat region corresponds to the valley between the two modes. The two populations should be separated and analyzed individually.',
    variantLabel: 'Bimodal',
  },
],
```

**box-plot (Tier A examples -- common patterns from NIST):**
```typescript
examples: [
  {
    label: 'Equal Groups',
    description: 'All box plots have similar medians, similar IQR heights, and similar whisker lengths. This indicates no significant difference between groups -- the factor does not affect either the location or the spread of the response.',
  },
  {
    label: 'Location Shift',
    description: 'Box plots have similar heights and whisker lengths but different median positions. This indicates the factor affects the average response without changing the variability, a classic location effect.',
  },
  {
    label: 'Spread Difference',
    description: 'Box plots have similar medians but markedly different heights. Taller boxes indicate groups with greater variability. This dispersion effect is important for process optimization and robust parameter design.',
  },
],
```

**probability-plot (Tier A examples -- common patterns from NIST):**
```typescript
examples: [
  {
    label: 'Good Fit',
    description: 'Points follow the fitted line closely across the entire range, with only minor random scatter. The probability plot correlation coefficient is close to 1.0. The hypothesized distribution provides a good model for the data.',
  },
  {
    label: 'S-Shaped Departure',
    description: 'Points form an S-curve around the reference line, with systematic departures at both tails. This indicates the data have a different tail weight than the hypothesized distribution. Try a distribution with heavier or lighter tails.',
  },
  {
    label: 'Concave Departure',
    description: 'Points show a consistent concave curvature, bowing away from the reference line. This indicates a skewness mismatch -- the data are more skewed than the hypothesized distribution. Try a more skewed distributional family.',
  },
],
```

**Important:** The `variantLabel` values for Tier B must EXACTLY match the variant labels from the technique renderer. Cross-check with 66-RESEARCH.md: histogram uses "Symmetric", "Right Skewed", "Left Skewed", "Bimodal", "Uniform", "Heavy Tailed", "Peaked", "With Outlier"; normal-probability-plot uses "Normal", "Right Skewed", "Heavy Tailed", "Bimodal".
  </action>
  <verify>
Run `npx astro build 2>&1 | tail -20` and confirm zero errors. Verify Tier B counts: `grep -c "variantLabel" src/lib/eda/technique-content/distribution-shape.ts` should show 12 (8 histogram + 4 normal-probability-plot). Verify Tier A examples present: `grep -c "'Good Fit'\|'Equal Groups'" src/lib/eda/technique-content/distribution-shape.ts` should show 2.
  </verify>
  <done>histogram has 8 variant captions, normal-probability-plot has 4 variant captions, box-plot has 3 Tier A examples, probability-plot has 3 Tier A examples. All variantLabel strings match renderer labels. Build passes cleanly.</done>
</task>

</tasks>

<verification>
1. `npx astro build` passes with zero errors
2. All 9 distribution-shape techniques have `questions`, `importance`, `definitionExpanded` fields
3. 7 of 9 techniques have `caseStudySlugs` (box-cox-linearity and box-cox-normality excluded)
4. histogram has 8 examples with variantLabel (Tier B)
5. normal-probability-plot has 4 examples with variantLabel (Tier B)
6. box-plot and probability-plot have 3 examples each (Tier A)
7. No `formulas` or `pythonCode` fields added
</verification>

<success_criteria>
- 9/29 techniques have full NIST-parity prose content
- 7 techniques have case study cross-links
- 2 Tier B techniques have interpretive variant captions (12 total)
- 2 Tier A techniques have pattern examples (6 total)
- Build clean with zero errors
</success_criteria>

<output>
After completion, create `.planning/phases/66-content-depth/66-02-SUMMARY.md`
</output>
