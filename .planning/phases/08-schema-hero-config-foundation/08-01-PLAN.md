---
phase: 08-schema-hero-config-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/data/site.ts
  - src/content.config.ts
autonomous: true

must_haves:
  truths:
    - "Blog content schema accepts optional externalUrl and source fields without breaking existing posts"
    - "A centralized hero config in src/data/site.ts exports name, tagline, roles, jobTitle, description, and url"
  artifacts:
    - path: "src/data/site.ts"
      provides: "Centralized hero/identity configuration"
      exports: ["siteConfig"]
    - path: "src/content.config.ts"
      provides: "Blog schema with optional externalUrl and source fields"
      contains: "externalUrl"
  key_links:
    - from: "src/data/site.ts"
      to: "src/pages/index.astro"
      via: "import consumed in Plan 02"
      pattern: "siteConfig"
    - from: "src/content.config.ts"
      to: "src/data/blog/*.md"
      via: "Zod schema validation at build time"
      pattern: "externalUrl.*optional"
---

<objective>
Create the two foundational data contracts for v1.1: a centralized hero config file and an extended blog content schema.

Purpose: Phases 9-12 all depend on these data contracts. The hero config eliminates hardcoded identity strings, and the blog schema extension enables external blog post integration.
Output: `src/data/site.ts` (new file) and updated `src/content.config.ts`
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-schema-hero-config-foundation/08-RESEARCH.md
@src/content.config.ts
@src/data/projects.ts
@src/pages/index.astro
@src/components/PersonJsonLd.astro
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create centralized hero config (src/data/site.ts)</name>
  <files>src/data/site.ts</files>
  <action>
Create a new file `src/data/site.ts` that exports a `siteConfig` constant with the following structure. IMPORTANT: Use the EXACT current hardcoded values from the codebase -- Phase 8 preserves v1.0 content, no text changes.

```typescript
export const siteConfig = {
  /** Owner's full name */
  name: 'Patryk Golabek',
  /** Professional title for structured data */
  jobTitle: 'Cloud-Native Software Architect',
  /** One-line description for meta tags and JSON-LD */
  description:
    'Cloud-Native Software Architect with 17+ years of experience in Kubernetes, AI/ML systems, platform engineering, and DevSecOps',
  /** Hero tagline shown below the name */
  tagline:
    'Building resilient cloud-native systems and AI-powered solutions for 17+ years. Pre-1.0 Kubernetes adopter. Ontario, Canada.',
  /** Roles for the typing animation */
  roles: [
    'Cloud-Native Architect',
    'Kubernetes Pioneer',
    'AI/ML Engineer',
    'Platform Builder',
  ] as const,
  /** Canonical site URL */
  url: 'https://patrykgolabek.dev',
} as const;
```

Export the type as well: `export type SiteConfig = typeof siteConfig;`

This follows the existing pattern established by `src/data/projects.ts` (typed data exports in the data directory).

Verify the file compiles: run `npx tsc --noEmit src/data/site.ts` or equivalent TypeScript check.
  </action>
  <verify>
File exists at `src/data/site.ts`. Run `npx astro check` to confirm no type errors. Verify the export by checking that `siteConfig.name`, `siteConfig.roles`, etc. are accessible.
  </verify>
  <done>
`src/data/site.ts` exists, exports `siteConfig` with name, jobTitle, description, tagline, roles (4 items), and url. TypeScript compiles without errors.
  </done>
</task>

<task type="auto">
  <name>Task 2: Extend blog schema with externalUrl and source fields</name>
  <files>src/content.config.ts</files>
  <action>
Add two optional fields to the blog collection schema in `src/content.config.ts`:

1. `externalUrl: z.string().url().optional()` -- URL to the external blog post (used by Phase 9)
2. `source: z.enum(['Kubert AI', 'Translucent Computing']).optional()` -- source blog name for badge display

Add these AFTER the existing `draft` field. Use `z.enum()` (not `z.string()`) for source to enforce type safety and prevent typos in Phase 9 frontmatter.

The resulting schema object should be:
```typescript
schema: z.object({
  title: z.string(),
  description: z.string(),
  publishedDate: z.coerce.date(),
  updatedDate: z.coerce.date().optional(),
  tags: z.array(z.string()).default([]),
  draft: z.boolean().default(false),
  externalUrl: z.string().url().optional(),
  source: z.enum(['Kubert AI', 'Translucent Computing']).optional(),
}),
```

CRITICAL: Both fields MUST be `.optional()`. Making them required would break the existing `building-kubernetes-observability-stack.md` blog post which does not have these fields.

After the change, run `npx astro build` to confirm the existing blog post still validates and the build succeeds with zero errors.
  </action>
  <verify>
Run `npx astro build`. Build must complete with zero errors. The existing blog post `building-kubernetes-observability-stack.md` must not fail validation (it has no externalUrl or source fields -- optional fields should be undefined, not errored).
  </verify>
  <done>
`src/content.config.ts` contains `externalUrl: z.string().url().optional()` and `source: z.enum(['Kubert AI', 'Translucent Computing']).optional()`. `astro build` passes with zero errors.
  </done>
</task>

</tasks>

<verification>
1. `src/data/site.ts` exists and exports `siteConfig` with all 6 fields (name, jobTitle, description, tagline, roles, url)
2. `src/content.config.ts` contains `externalUrl` and `source` optional fields
3. `npx astro build` completes with zero errors
4. No visible changes to the rendered site (data contracts only, no wiring yet)
</verification>

<success_criteria>
- siteConfig is importable from `src/data/site` in any .astro or .ts file
- Blog schema validates existing posts without error
- Blog schema accepts optional externalUrl (URL type) and source (enum type)
- Zero new runtime dependencies
</success_criteria>

<output>
After completion, create `.planning/phases/08-schema-hero-config-foundation/08-01-SUMMARY.md`
</output>
