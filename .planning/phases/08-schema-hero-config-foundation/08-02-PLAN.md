---
phase: 08-schema-hero-config-foundation
plan: 02
type: execute
wave: 2
depends_on: ["08-01"]
files_modified:
  - src/pages/index.astro
  - src/components/PersonJsonLd.astro
autonomous: true

must_haves:
  truths:
    - "Home page title tag consumes hero data from site.ts (not hardcoded strings)"
    - "Home page meta description consumes hero data from site.ts (not hardcoded strings)"
    - "JSON-LD Person entity consumes hero data from site.ts (not hardcoded strings)"
    - "Hero section (h1, tagline, typing default role) renders from site.ts"
    - "Typing animation roles array comes from site.ts via define:vars"
    - "Rendered output is visually identical to v1.0 (no content changes)"
  artifacts:
    - path: "src/pages/index.astro"
      provides: "Home page consuming siteConfig for title, description, hero, roles"
      contains: "siteConfig"
    - path: "src/components/PersonJsonLd.astro"
      provides: "JSON-LD Person entity consuming siteConfig"
      contains: "siteConfig"
  key_links:
    - from: "src/pages/index.astro"
      to: "src/data/site.ts"
      via: "import { siteConfig } from '../data/site'"
      pattern: "import.*siteConfig.*from.*data/site"
    - from: "src/components/PersonJsonLd.astro"
      to: "src/data/site.ts"
      via: "import { siteConfig } from '../data/site'"
      pattern: "import.*siteConfig.*from.*data/site"
    - from: "src/pages/index.astro"
      to: "inline typing script"
      via: "define:vars={{ roles: siteConfig.roles }}"
      pattern: "define:vars.*roles"
---

<objective>
Wire the home page and JSON-LD Person entity to consume data from the centralized site.ts config instead of hardcoded strings.

Purpose: This completes Phase 8's goal -- hero data now propagates from a single source. When Phase 11 updates the tagline/roles, changes will automatically flow to the title tag, meta description, JSON-LD, and hero section.
Output: Updated `src/pages/index.astro` and `src/components/PersonJsonLd.astro`
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-schema-hero-config-foundation/08-RESEARCH.md
@.planning/phases/08-schema-hero-config-foundation/08-01-SUMMARY.md
@src/data/site.ts
@src/pages/index.astro
@src/components/PersonJsonLd.astro
@src/layouts/Layout.astro
</context>

<tasks>

<task type="auto">
  <name>Task 1: Wire index.astro to consume siteConfig</name>
  <files>src/pages/index.astro</files>
  <action>
Update `src/pages/index.astro` to import and use `siteConfig` from `src/data/site.ts`. Replace 6 hardcoded values with config references.

**Step 1: Add import in frontmatter**
Add `import { siteConfig } from '../data/site';` after the existing imports.

**Step 2: Construct title and description from config**
Add computed values in the frontmatter:
```typescript
const pageTitle = `${siteConfig.name} \u2014 ${siteConfig.roles[0]} & ${siteConfig.roles[2]}`;
const pageDescription = `Portfolio of ${siteConfig.name}, ${siteConfig.description}.`;
```

**Step 3: Replace hardcoded values in the template**

| Line | Current Hardcoded Value | Replace With |
|------|------------------------|--------------|
| L17 | `title="Patryk Golabek..."` | `title={pageTitle}` |
| L18 | `description="Portfolio of..."` | `description={pageDescription}` |
| L25 | `Patryk Golabek` (in h1) | `{siteConfig.name}` |
| L28 | `Cloud-Native Architect` (typing default) | `{siteConfig.roles[0]}` |
| L31 | The tagline paragraph text | `{siteConfig.tagline}` |

**Step 4: Wire the typing script with define:vars**
Replace the `<script is:inline>` block (currently around L186-202) with:
```astro
<script is:inline define:vars={{ roles: [...siteConfig.roles] }}>
  (function() {
    if (window.__typingInterval) {
      clearInterval(window.__typingInterval);
    }
    let i = 0;
    const el = document.getElementById('typing-role');
    if (el) {
      window.__typingInterval = setInterval(function() {
        i = (i + 1) % roles.length;
        el.textContent = roles[i];
      }, 3000);
    }
  })();
</script>
```

NOTE: Use `[...siteConfig.roles]` (spread into mutable array) because `define:vars` serializes the value to JSON and the `as const` readonly tuple may cause issues with some serializers. Spreading to a plain array is the safe approach.

CRITICAL: The rendered output must be IDENTICAL to v1.0. Same title string, same description string, same h1 text, same tagline text, same roles array. Phase 8 changes the SOURCE of the data, not the DATA itself.

Do NOT modify any other sections of index.astro (What I Build, Latest Writing, Contact CTA). Those are out of scope for Phase 8.
  </action>
  <verify>
Run `npx astro build`. Build must complete with zero errors.

Verify the output by checking the built HTML:
- `dist/index.html` contains `<title>Patryk Golabek` (title tag uses config value)
- `dist/index.html` contains the meta description with "Portfolio of Patryk Golabek"
- `dist/index.html` contains `Patryk Golabek` in an h1 tag
- `dist/index.html` contains the roles array in the inline script

The rendered page must look exactly the same as before.
  </verify>
  <done>
`src/pages/index.astro` imports siteConfig and uses it for: Layout title, Layout description, h1 name, typing default role, tagline paragraph, and typing script roles array. `astro build` passes. Rendered output is identical to v1.0.
  </done>
</task>

<task type="auto">
  <name>Task 2: Wire PersonJsonLd.astro to consume siteConfig</name>
  <files>src/components/PersonJsonLd.astro</files>
  <action>
Update `src/components/PersonJsonLd.astro` to import and use `siteConfig` instead of hardcoded strings.

**Step 1: Add import in frontmatter**
Add `import { siteConfig } from '../data/site';` at the top of the frontmatter block.

**Step 2: Replace hardcoded values in the schema object**

| Current Hardcoded Value | Replace With |
|------------------------|--------------|
| `"name": "Patryk Golabek"` | `"name": siteConfig.name` |
| `"url": "https://patrykgolabek.dev"` | `"url": siteConfig.url` |
| `"jobTitle": "Cloud-Native Software Architect"` | `"jobTitle": siteConfig.jobTitle` |
| `"description": "Cloud-Native Software Architect with 17+..."` | `"description": siteConfig.description` |

The resulting frontmatter should look like:
```astro
---
import { siteConfig } from '../data/site';

const schema = {
  "@context": "https://schema.org",
  "@type": "Person",
  "name": siteConfig.name,
  "url": siteConfig.url,
  "jobTitle": siteConfig.jobTitle,
  "description": siteConfig.description,
  "knowsAbout": [
    "Kubernetes",
    "Cloud-Native Architecture",
    "AI/ML",
    "Platform Engineering",
    "DevSecOps",
    "Infrastructure as Code",
    "LLM Agents",
    "RAG Pipelines",
    "Terraform",
    "Python",
    "TypeScript",
    "Java"
  ],
  "sameAs": [
    "https://github.com/PatrykQuantumNomad",
    "https://www.linkedin.com/in/patrykgolabek/",
    "https://translucentcomputing.com/blog/",
    "https://mykubert.com/blog/"
  ],
  "worksFor": {
    "@type": "Organization",
    "name": "Translucent Computing"
  },
  "address": {
    "@type": "PostalAddress",
    "addressRegion": "Ontario",
    "addressCountry": "CA"
  }
};
---
```

Do NOT change `knowsAbout`, `sameAs`, `worksFor`, or `address` -- these are outside Phase 8 scope. Only the 4 fields that map to siteConfig (name, url, jobTitle, description) should be wired.

CRITICAL: The JSON-LD output must be byte-identical to v1.0 (same values, just sourced from config). Google's structured data guidelines require JSON-LD to match visible page content, so keeping values synchronized via config is the right approach.
  </action>
  <verify>
Run `npx astro build`. Build must complete with zero errors.

Check the built output:
- `dist/index.html` contains a `<script type="application/ld+json">` block
- The JSON-LD contains `"name":"Patryk Golabek"` and `"jobTitle":"Cloud-Native Software Architect"`
- Values match what siteConfig exports
  </verify>
  <done>
`src/components/PersonJsonLd.astro` imports siteConfig and uses it for name, url, jobTitle, and description in the Person JSON-LD schema. `astro build` passes. JSON-LD output is identical to v1.0.
  </done>
</task>

</tasks>

<verification>
1. `src/pages/index.astro` contains `import { siteConfig } from '../data/site'`
2. `src/components/PersonJsonLd.astro` contains `import { siteConfig } from '../data/site'`
3. No hardcoded identity strings remain in `index.astro` hero section (name, tagline, roles, title, description)
4. No hardcoded identity strings remain in `PersonJsonLd.astro` (name, url, jobTitle, description)
5. `npx astro build` completes with zero errors
6. Built HTML output (`dist/index.html`) is functionally identical to v1.0
7. JSON-LD Person entity values match siteConfig values
</verification>

<success_criteria>
- Home page title, description, hero h1, tagline, and typing roles all sourced from siteConfig
- PersonJsonLd name, url, jobTitle, description all sourced from siteConfig
- Changing a value in site.ts would automatically update all 6+ locations
- Zero visual regression from v1.0
- `astro build` passes with zero errors
</success_criteria>

<output>
After completion, create `.planning/phases/08-schema-hero-config-foundation/08-02-SUMMARY.md`
</output>
