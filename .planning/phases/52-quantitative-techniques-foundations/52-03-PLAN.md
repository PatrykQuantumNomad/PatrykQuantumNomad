---
phase: 52-quantitative-techniques-foundations
plan: 03
type: execute
wave: 2
depends_on: [52-01, 52-02]
files_modified:
  - src/pages/eda/quantitative/[slug].astro
autonomous: false
requirements: [QUANT-01, QUANT-03, FOUND-01, SITE-13]

must_haves:
  truths:
    - "Cross-links between quantitative, graphical, and foundation pages all resolve without 404s"
    - "KaTeX formulas render as typeset math on representative quantitative pages"
    - "Python code blocks have copy buttons and syntax highlighting"
    - "Full site build succeeds with all 24 new pages"
  artifacts: []
  key_links:
    - from: "/eda/quantitative/two-sample-t-test/"
      to: "/eda/techniques/histogram/"
      via: "related technique link"
      pattern: "Related Techniques"
    - from: "/eda/foundations/what-is-eda/"
      to: "/eda/quantitative/measures-of-location/"
      via: "MDX cross-link"
      pattern: "measures-of-location"
---

<objective>
Validate the full Phase 52 build: verify KaTeX rendering, Python code copy buttons, cross-links between all page categories, and overall build success with 24 new pages.

Purpose: Catches integration issues between quantitative pages (Plan 01) and foundation pages (Plan 02) before the phase is marked complete.
Output: Verified build with all cross-links functional and formulas rendering correctly.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/52-quantitative-techniques-foundations/52-01-SUMMARY.md
@.planning/phases/52-quantitative-techniques-foundations/52-02-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Run full build and validate page count, cross-links, and KaTeX output</name>
  <files>src/pages/eda/quantitative/[slug].astro</files>
  <action>
Run validation checks on the complete Phase 52 output:

1. **Build verification:** Run `npx astro build` and confirm it succeeds. Capture page count and verify it increased by 24 (18 quantitative + 6 foundation) from the Phase 51 baseline of ~888 pages.

2. **KaTeX rendering verification:** Check the built HTML output for at least 3 representative quantitative pages to confirm KaTeX rendered correctly:
   - Check dist/eda/quantitative/measures-of-location/index.html contains `class="katex"` elements (not raw `$$` or `\frac`)
   - Check dist/eda/quantitative/two-sample-t-test/index.html contains both katex elements AND a code block with Python syntax
   - Check dist/eda/quantitative/anderson-darling/index.html for katex + python code

3. **Python code block verification:** Verify that Python code blocks in built HTML contain the expressive-code wrapper (look for `class="expressive-code"` or `data-language="python"` in the output HTML) and that the copy button markup is present.

4. **Cross-link validation:** Run the existing cross-link validation script if available, or manually check:
   - From a quantitative page's related links, verify the target URL exists in dist/
   - From a foundation page, verify cross-links to technique and quantitative pages resolve
   - Spot-check at least 5 cross-links across categories

5. **Fix any issues found:** If KaTeX renders as raw text, the katex.renderToString approach may need adjustment. If Python code lacks copy buttons, verify the Code component import. Apply fixes to the [slug].astro or quantitative-content.ts as needed.

NOTE: This task may modify [slug].astro if integration fixes are needed, which is why it's listed in files_modified. If no fixes are needed, no modifications will be made.
  </action>
  <verify>
    <automated>cd /Users/patrykattc/work/git/PatrykQuantumNomad && npx astro build 2>&1 | grep -E "pages|error" | tail -3 && echo "---" && grep -c "katex" dist/eda/quantitative/measures-of-location/index.html && echo "katex elements found" && grep -c "expressive-code\|data-language" dist/eda/quantitative/two-sample-t-test/index.html && echo "code blocks found"</automated>
  </verify>
  <done>Full site builds with 24 new pages. KaTeX renders as typeset math (class="katex" in HTML). Python code blocks have expressive-code styling and copy buttons. No raw LaTeX or unstyled code blocks.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Visual verification of quantitative and foundation pages</name>
  <what-built>24 new EDA pages: 18 quantitative technique pages with KaTeX formulas and Python code examples, and 6 foundation pages with educational prose and cross-links</what-built>
  <how-to-verify>
    1. Start dev server: `npm run dev`
    2. Visit http://localhost:4321/eda/quantitative/two-sample-t-test/ -- verify:
       - KaTeX formulas render as proper math typography (not raw LaTeX)
       - Python code block has syntax highlighting with a copy button
       - Related techniques section shows clickable links
       - Breadcrumb shows EDA > Quantitative Techniques > Two-Sample t-Test
    3. Visit http://localhost:4321/eda/quantitative/measures-of-location/ -- verify:
       - Mean, median, mode formulas display correctly
       - No Python code section (this page has no code example)
    4. Visit http://localhost:4321/eda/foundations/what-is-eda/ -- verify:
       - Long-form prose renders with proper heading hierarchy
       - Cross-links to technique pages are clickable and navigate correctly
       - Breadcrumb shows EDA > Foundations > What is EDA?
    5. Visit http://localhost:4321/eda/foundations/assumptions/ -- verify:
       - Content covers the 4 standard assumptions
       - Links to run-sequence plot, lag plot work
    6. Toggle dark mode -- verify formulas remain readable in both themes
  </how-to-verify>
  <resume-signal>Type "approved" or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
1. Full build succeeds with ~912+ pages (888 baseline + 24 new)
2. KaTeX HTML present in quantitative page output (not raw LaTeX)
3. Python code blocks have expressive-code wrappers with copy buttons
4. Cross-links resolve between all 3 categories (graphical, quantitative, foundations)
5. Visual verification confirms proper rendering in both light and dark modes
</verification>

<success_criteria>
- Build succeeds with all 24 new pages
- KaTeX formulas visually verified as typeset math
- Python code blocks visually verified with copy buttons
- Cross-links between categories confirmed working
- Dark/light mode rendering verified
</success_criteria>

<output>
After completion, create `.planning/phases/52-quantitative-techniques-foundations/52-03-SUMMARY.md`
</output>
