---
phase: 05-seo-foundation
plan: 02
type: execute
wave: 2
depends_on: ["05-01"]
files_modified:
  - src/components/PersonJsonLd.astro
  - src/components/BlogPostingJsonLd.astro
  - src/pages/index.astro
  - src/pages/blog/[slug].astro
autonomous: true

must_haves:
  truths:
    - "Homepage HTML source contains a valid JSON-LD script with @type Person and name Patryk Golabek"
    - "Blog post HTML source contains a valid JSON-LD script with @type BlogPosting, headline, datePublished, and author"
    - "JSON-LD scripts use application/ld+json type and are parseable JSON"
    - "SEO keywords (Kubernetes, cloud-native, AI/ML, platform engineering) appear naturally in site content"
  artifacts:
    - path: "src/components/PersonJsonLd.astro"
      provides: "Person schema JSON-LD component for homepage"
      min_lines: 20
    - path: "src/components/BlogPostingJsonLd.astro"
      provides: "BlogPosting schema JSON-LD component for blog posts"
      min_lines: 25
  key_links:
    - from: "src/pages/index.astro"
      to: "src/components/PersonJsonLd.astro"
      via: "component rendered inside page"
      pattern: "import PersonJsonLd.*PersonJsonLd"
    - from: "src/pages/blog/[slug].astro"
      to: "src/components/BlogPostingJsonLd.astro"
      via: "component rendered inside page"
      pattern: "import BlogPostingJsonLd.*BlogPostingJsonLd"
---

<objective>
Add JSON-LD structured data (Person schema on homepage, BlogPosting schema on blog posts) and verify SEO keyword integration across all site content.

Purpose: JSON-LD structured data enables rich results in Google Search (knowledge panels, article snippets) and helps search engines understand the site's content semantically. Keyword verification ensures the site ranks for target search terms.

Output: PersonJsonLd.astro and BlogPostingJsonLd.astro components wired into their respective pages, verified keyword presence.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-seo-foundation/05-01-SUMMARY.md
@src/pages/index.astro
@src/pages/blog/[slug].astro
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Person and BlogPosting JSON-LD components and wire into pages</name>
  <files>
    src/components/PersonJsonLd.astro
    src/components/BlogPostingJsonLd.astro
    src/pages/index.astro
    src/pages/blog/[slug].astro
  </files>
  <action>
1. Create `src/components/PersonJsonLd.astro`:
   - No props needed (static data for Patryk Golabek)
   - Render a `<script type="application/ld+json" set:html={JSON.stringify(schema)} />` tag
   - Schema object (Person schema per schema.org):
     ```json
     {
       "@context": "https://schema.org",
       "@type": "Person",
       "name": "Patryk Golabek",
       "url": "https://patrykgolabek.dev",
       "jobTitle": "Cloud-Native Software Architect",
       "description": "Cloud-Native Software Architect with 17+ years of experience in Kubernetes, AI/ML systems, platform engineering, and DevSecOps",
       "knowsAbout": ["Kubernetes", "Cloud-Native Architecture", "AI/ML", "Platform Engineering", "DevSecOps", "Infrastructure as Code", "LLM Agents", "RAG Pipelines", "Terraform", "Python", "TypeScript", "Java"],
       "sameAs": [
         "https://github.com/PatrykQuantumNomad",
         "https://www.linkedin.com/in/patrykgolabek/",
         "https://translucentcomputing.com/blog/",
         "https://mykubert.com/blog/"
       ],
       "worksFor": {
         "@type": "Organization",
         "name": "Translucent Computing"
       },
       "address": {
         "@type": "PostalAddress",
         "addressRegion": "Ontario",
         "addressCountry": "CA"
       }
     }
     ```
   - Use Astro's `set:html` directive on the script tag to inject the JSON string without escaping

2. Create `src/components/BlogPostingJsonLd.astro`:
   - Props interface:
     ```typescript
     interface Props {
       title: string;
       description: string;
       publishedDate: Date;
       updatedDate?: Date;
       url: string;
       tags?: string[];
     }
     ```
   - Render a `<script type="application/ld+json" set:html={JSON.stringify(schema)} />` tag
   - Schema object (BlogPosting schema per schema.org):
     ```json
     {
       "@context": "https://schema.org",
       "@type": "BlogPosting",
       "headline": "{title}",
       "description": "{description}",
       "datePublished": "{publishedDate.toISOString()}",
       "dateModified": "{(updatedDate || publishedDate).toISOString()}",
       "url": "{url}",
       "author": {
         "@type": "Person",
         "name": "Patryk Golabek",
         "url": "https://patrykgolabek.dev"
       },
       "publisher": {
         "@type": "Person",
         "name": "Patryk Golabek",
         "url": "https://patrykgolabek.dev"
       },
       "keywords": "{tags.join(', ')}"
       "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "{url}"
       }
     }
     ```
   - Only include "keywords" field if tags array is non-empty
   - Only include "dateModified" if updatedDate is provided; otherwise omit or use publishedDate

3. Update `src/pages/index.astro`:
   - Import PersonJsonLd: `import PersonJsonLd from '../components/PersonJsonLd.astro';`
   - Render `<PersonJsonLd />` at the END of the page content (just before closing `</Layout>` tag). JSON-LD can go anywhere in the HTML body; search engines parse it regardless of position.

4. Update `src/pages/blog/[slug].astro`:
   - Import BlogPostingJsonLd: `import BlogPostingJsonLd from '../../components/BlogPostingJsonLd.astro';`
   - Construct the absolute URL: `const postURL = new URL('/blog/' + post.id + '/', Astro.site).toString();`
   - Render `<BlogPostingJsonLd title={title} description={description} publishedDate={publishedDate} updatedDate={post.data.updatedDate} url={postURL} tags={tags} />` at the end of the article content, before the back-to-blog link.
  </action>
  <verify>
    Run `npm run build`. Then:
    - `grep 'application/ld+json' dist/index.html` should show Person schema
    - `grep 'application/ld+json' dist/blog/building-kubernetes-observability-stack/index.html` should show BlogPosting schema
    - Parse the JSON-LD from each file and validate it contains the required fields (@context, @type, name/headline)
    - Verify `"@type":"Person"` appears in homepage and `"@type":"BlogPosting"` appears in blog post
  </verify>
  <done>
    Homepage contains valid Person JSON-LD with name, jobTitle, url, sameAs links, and knowsAbout skills. Blog post pages contain valid BlogPosting JSON-LD with headline, datePublished, author, and keywords. All JSON-LD is parseable and follows schema.org specifications.
  </done>
</task>

<task type="auto">
  <name>Task 2: Verify SEO keyword integration across all site content</name>
  <files>
    src/pages/index.astro
    src/pages/projects/index.astro
    src/pages/about.astro
    src/pages/contact.astro
  </files>
  <action>
Audit all pages for presence of target SEO keywords from PROJECT.md. The keywords should already be present naturally from Phase 4 content — this task verifies and fills any gaps.

**Target keywords** (from PROJECT.md Key SEO keywords):
Kubernetes, cloud-native, AI/ML, platform engineering, DevSecOps, infrastructure as code, Terraform, Python, TypeScript, Java, Docker, React, Angular, Next.js, LangGraph, LLM Agents, RAG Pipelines, Prompt Engineering, CI/CD, GitOps, Observability

**Audit and fix each page:**

1. **Homepage (index.astro):** Should contain: Kubernetes, cloud-native, AI/ML, platform engineering, DevSecOps, LLM agents, RAG pipelines, Terraform, Python, TypeScript, Java. Most should already be present in the skills cards and hero text. If "DevSecOps" or "Infrastructure as Code" are missing, add them naturally to the skills card descriptions (e.g., expand the Platform Engineering card description to mention "DevSecOps" and "Infrastructure as Code" if not already there).

2. **Projects page (projects/index.astro):** Keywords come from project descriptions in data/projects.ts. The page intro paragraph should contain: Kubernetes, AI/ML, infrastructure as code, platform engineering. Check the intro paragraph and add any missing keywords naturally.

3. **About page (about.astro):** The tech stack badges and career highlights should cover most keywords. Verify "DevSecOps", "GitOps", "Observability", "CI/CD" appear in the tech stack or career highlights. The tech stack data already includes most of these.

4. **Contact page (contact.astro):** The intro paragraph mentions cloud-native architecture, AI/ML systems, platform engineering. This is sufficient for a contact page. No changes needed unless major keywords are missing from the page entirely.

**Rules:**
- Do NOT keyword-stuff. Only add words where they fit naturally in existing sentence structure.
- Do NOT add hidden text or invisible keywords.
- Prefer expanding existing descriptions over adding new paragraphs.
- If a keyword is already present on 2+ pages, skip adding it to additional pages.
- This should be minor text tweaks at most, not content rewrites.
  </action>
  <verify>
    For each target keyword, grep across dist/ HTML files to confirm it appears on at least one page:
    ```
    for keyword in "Kubernetes" "cloud-native" "AI/ML" "platform engineering" "DevSecOps" "infrastructure as code" "Terraform" "LLM" "RAG" "CI/CD" "GitOps" "Observability"; do
      echo "$keyword:"; grep -rl "$keyword" dist/ | head -3
    done
    ```
    Every keyword should appear in at least one built HTML file.
  </verify>
  <done>
    All target SEO keywords appear naturally across site content. No keyword stuffing. Keywords distributed appropriately: technical terms on relevant pages (e.g., Kubernetes on projects and about, AI/ML on homepage and projects).
  </done>
</task>

</tasks>

<verification>
1. `npm run build` completes without errors
2. Homepage dist/index.html contains `<script type="application/ld+json">` with `"@type":"Person"` and `"name":"Patryk Golabek"`
3. Blog post dist/blog/building-kubernetes-observability-stack/index.html contains `<script type="application/ld+json">` with `"@type":"BlogPosting"` and `"headline"`
4. JSON-LD in both pages is valid JSON (parseable without errors)
5. All target SEO keywords from PROJECT.md appear in at least one page's built HTML
6. No keyword stuffing — text reads naturally
</verification>

<success_criteria>
- Homepage includes Person JSON-LD schema (validatable via Google Rich Results Test)
- Blog posts include BlogPosting JSON-LD schema with headline, datePublished, and author
- All JSON-LD is valid, parseable JSON following schema.org specifications
- SEO keywords appear naturally throughout site content (at least 1 page per keyword)
- Build succeeds with zero errors
</success_criteria>

<output>
After completion, create `.planning/phases/05-seo-foundation/05-02-SUMMARY.md`
</output>
