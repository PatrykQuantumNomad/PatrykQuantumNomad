---
phase: 49-data-model-schema-population
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/data/eda/distributions.json
autonomous: true
requirements:
  - DATA-03

must_haves:
  truths:
    - "distributions.json contains exactly 19 distribution entries passing Zod validation"
    - "Every distribution has KaTeX-ready PDF and CDF formulas with properly double-escaped backslashes"
    - "Every distribution has parameter definitions with valid min/max/default/step ranges for D3 sliders"
    - "Every relatedDistributions slug references an entry that exists in the same file"
    - "No duplicate IDs exist in the file"
  artifacts:
    - path: "src/data/eda/distributions.json"
      provides: "Complete distribution data model for 19 probability distributions"
      contains: "19 JSON entries with id, title, slug, parameters, pdfFormula, cdfFormula, mean, variance, relatedDistributions, nistSection, description"
  key_links:
    - from: "src/data/eda/distributions.json"
      to: "src/lib/eda/schema.ts"
      via: "Zod validation at build time via edaDistributionSchema"
      pattern: "edaDistributionSchema"
    - from: "src/data/eda/distributions.json"
      to: "src/content.config.ts"
      via: "file() loader for edaDistributions collection"
      pattern: "file\\('src/data/eda/distributions.json'\\)"
---

<objective>
Populate distributions.json with all 19 probability distribution entries, each with mathematically correct KaTeX-ready PDF/CDF formulas, parameter definitions for D3 interactive sliders, and cross-linking to related distributions.

Purpose: This data model drives all 19 distribution pages in Phase 53. The PDF/CDF formulas render via KaTeX, the parameter definitions configure D3 slider ranges, and the descriptions power SEO meta tags and OG images. Mathematical accuracy is critical -- wrong formulas produce incorrect visualizations.

Output: Complete `src/data/eda/distributions.json` with 19 validated entries passing edaDistributionSchema Zod validation.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/49-data-model-schema-population/49-RESEARCH.md
@src/lib/eda/schema.ts
@src/data/eda/distributions.json
@src/content.config.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Populate all 19 distribution entries in distributions.json</name>
  <files>src/data/eda/distributions.json</files>
  <action>
Replace the 2 sample entries in distributions.json with the complete set of 19 probability distribution entries. Use the NIST Distribution Gallery (1.3.6.6.1-1.3.6.6.19) as the authoritative source for formulas.

For each entry, populate all 12 fields per edaDistributionSchema:
- `id` and `slug`: identical, lowercase kebab-case
- `title`: Full distribution name (e.g., "Chi-Square Distribution", "Student's t-Distribution")
- `parameters`: Array of parameter objects with {name, symbol, min, max, default, step}. Symbol uses LaTeX (double-escaped: "\\\\mu", "\\\\sigma"). Min/max/default/step define the D3 slider range.
- `pdfFormula`: KaTeX-ready LaTeX string for the probability density function. ALL backslashes MUST be double-escaped in JSON (e.g., `\\\\frac`, `\\\\sqrt`, `\\\\pi`).
- `cdfFormula`: KaTeX-ready LaTeX string for the cumulative distribution function. Same escaping rules.
- `mean`: LaTeX expression for the distribution mean (e.g., "\\\\mu", "\\\\frac{1}{\\\\lambda}")
- `variance`: LaTeX expression for the distribution variance (e.g., "\\\\sigma^2", "\\\\frac{1}{\\\\lambda^2}")
- `relatedDistributions`: Array of slug strings referencing other distributions in this file
- `nistSection`: Full NIST section identifier (e.g., "1.3.6.6.1 Normal Distribution")
- `description`: 1-2 sentence plain-text description. No LaTeX. Must be suitable for meta tags.

The 19 distributions (from research):
1. normal (1.3.6.6.1) -- params: mu (-5 to 5, default 0, step 0.1), sigma (0.1 to 5, default 1, step 0.1)
2. uniform (1.3.6.6.2) -- params: a (-5 to 0, default -1, step 0.1), b (0 to 5, default 1, step 0.1)
3. cauchy (1.3.6.6.3) -- params: x0 (-5 to 5, default 0, step 0.1), gamma (0.1 to 5, default 1, step 0.1)
4. t-distribution (1.3.6.6.4) -- params: nu (1 to 30, default 5, step 1)
5. f-distribution (1.3.6.6.5) -- params: d1 (1 to 30, default 5, step 1), d2 (1 to 30, default 10, step 1)
6. chi-square (1.3.6.6.6) -- params: k (1 to 30, default 5, step 1)
7. exponential (1.3.6.6.7) -- params: lambda (0.1 to 5, default 1, step 0.1)
8. weibull (1.3.6.6.8) -- params: alpha (0.1 to 5, default 1, step 0.1), beta (0.1 to 5, default 1, step 0.1)
9. lognormal (1.3.6.6.9) -- params: mu (-2 to 2, default 0, step 0.1), sigma (0.1 to 3, default 1, step 0.1)
10. fatigue-life (1.3.6.6.10) -- params: alpha (0.1 to 3, default 1, step 0.1), beta (0.1 to 5, default 1, step 0.1)
11. gamma (1.3.6.6.11) -- params: alpha (0.1 to 10, default 2, step 0.1), beta (0.1 to 5, default 1, step 0.1)
12. double-exponential (1.3.6.6.12) -- params: mu (-5 to 5, default 0, step 0.1), beta (0.1 to 5, default 1, step 0.1)
13. power-normal (1.3.6.6.13) -- params: p (0.1 to 5, default 1, step 0.1)
14. power-lognormal (1.3.6.6.14) -- params: p (0.1 to 5, default 1, step 0.1), sigma (0.1 to 3, default 1, step 0.1)
15. tukey-lambda (1.3.6.6.15) -- params: lambda (-2 to 2, default 0.14, step 0.01)
16. extreme-value (1.3.6.6.16) -- params: mu (-5 to 5, default 0, step 0.1), beta (0.1 to 5, default 1, step 0.1)
17. beta (1.3.6.6.17) -- params: alpha (0.1 to 10, default 2, step 0.1), beta (0.1 to 10, default 5, step 0.1)
18. binomial (1.3.6.6.18) -- params: n (1 to 50, default 10, step 1), p (0.01 to 0.99, default 0.5, step 0.01)
19. poisson (1.3.6.6.19) -- params: lambda (0.1 to 20, default 5, step 0.1)

CRITICAL LaTeX escaping rules for JSON:
- Every `\` in LaTeX becomes `\\` in JSON strings
- `\frac{a}{b}` becomes `"\\frac{a}{b}"` in JSON
- `\sqrt{2\pi}` becomes `"\\sqrt{2\\pi}"` in JSON
- `\sigma^2` becomes `"\\sigma^2"` in JSON
- `\left(` becomes `"\\left("` in JSON
- `\text{erf}` becomes `"\\text{erf}"` in JSON
- `\Gamma(k)` becomes `"\\Gamma(k)"` in JSON

For PDF/CDF formulas, reference the NIST handbook pages directly. Key formulas:
- Normal: PDF uses the standard bell curve formula, CDF uses error function
- Chi-square: PDF involves gamma function, CDF uses incomplete gamma
- Student's t: PDF uses gamma function ratio, CDF uses regularized incomplete beta
- F-distribution: PDF uses beta function, CDF uses regularized incomplete beta
- Weibull: PDF and CDF have closed-form expressions
- Gamma: PDF involves gamma function, CDF uses incomplete gamma
- Beta: PDF uses beta function, CDF uses regularized incomplete beta
- Binomial: PMF (not PDF) uses combination formula, CDF is a sum
- Poisson: PMF uses factorial, CDF is a sum

Note: For discrete distributions (binomial, poisson), use PMF notation in the `pdfFormula` field: P(X = k) instead of f(x).

For `relatedDistributions`, use mathematically meaningful relationships:
- normal -> ["t-distribution", "chi-square", "lognormal"]
- chi-square -> ["normal", "gamma", "f-distribution"]
- t-distribution -> ["normal", "cauchy", "f-distribution"]
- gamma -> ["chi-square", "exponential", "beta"]
- exponential -> ["gamma", "weibull", "poisson"]
- weibull -> ["exponential", "gamma", "extreme-value"]
- beta -> ["uniform", "gamma", "binomial"]
- binomial -> ["poisson", "normal", "beta"]
- poisson -> ["binomial", "exponential", "normal"]

After writing all 19 entries, validate the file:
1. `JSON.parse()` succeeds (no syntax errors)
2. Count is exactly 19
3. No duplicate IDs
4. All relatedDistributions slugs resolve
5. `npm run build` passes (Zod validation)
  </action>
  <verify>
    <automated>cd /Users/patrykattc/work/git/PatrykQuantumNomad && node -e "const d=JSON.parse(require('fs').readFileSync('src/data/eda/distributions.json','utf8')); console.log('Count:', d.length, '(expect 19)'); if(d.length!==19){process.exit(1);} const ids=d.map(e=>e.id); const dupes=ids.filter((id,i)=>ids.indexOf(id)!==i); if(dupes.length){console.error('DUPES:', dupes); process.exit(1);} let errs=0; for(const e of d){for(const r of e.relatedDistributions){if(!ids.includes(r)){console.error('Broken:',e.id,'->',r);errs++;}}} if(errs){process.exit(1);} for(const e of d){if(!e.pdfFormula.includes('\\\\')){console.error('No escaped backslashes in pdfFormula for',e.id);errs++;}} if(errs){process.exit(1);} console.log('All 19 distributions valid, cross-links resolved, LaTeX escaping present');" && npm run build 2>&1 | tail -5</automated>
    <manual>Spot-check 3 distributions (normal, chi-square, weibull) that PDF/CDF formulas look mathematically correct</manual>
  </verify>
  <done>distributions.json contains exactly 19 entries passing edaDistributionSchema Zod validation, with KaTeX-ready PDF/CDF formulas, parameter slider definitions, and valid cross-links to related distributions</done>
</task>

</tasks>

<verification>
1. `node -e "JSON.parse(require('fs').readFileSync('src/data/eda/distributions.json','utf8'))"` -- JSON parses without error
2. `npm run build` completes without content collection validation errors
3. Entry count: exactly 19
4. No duplicate IDs, no broken cross-links
5. All pdfFormula and cdfFormula fields contain properly escaped LaTeX
6. All parameter fields have valid min < max ranges with reasonable defaults and step sizes
</verification>

<success_criteria>
- distributions.json has exactly 19 entries passing edaDistributionSchema validation
- All 19 NIST distributions represented (1.3.6.6.1 through 1.3.6.6.19)
- PDF/CDF formulas use double-escaped backslashes for KaTeX rendering
- Parameter definitions have sensible slider ranges for D3 interactive explorers
- All relatedDistributions slugs resolve to existing entries
- npm run build succeeds
</success_criteria>

<output>
After completion, create `.planning/phases/49-data-model-schema-population/49-02-SUMMARY.md`
</output>
