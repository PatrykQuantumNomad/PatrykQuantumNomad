---
interface Props {
  category: string;
  techniqueName?: string;
}

const { category, techniqueName } = Astro.props;

const categorySlug = category.toLowerCase().replace(/\s+/g, '-');

interface Crumb {
  label: string;
  href: string;
}

const crumbs: Crumb[] = [
  { label: 'EDA', href: '/eda/' },
  { label: category, href: `/eda/${categorySlug}/` },
];

if (techniqueName) {
  crumbs.push({ label: techniqueName, href: '' });
}
---

<nav aria-label="Breadcrumb" class="mb-6">
  <ol class="flex items-center gap-2 text-sm text-[var(--color-text-secondary)]">
    {crumbs.map((crumb, i) => (
      <li class="flex items-center gap-2">
        {i > 0 && <span aria-hidden="true">/</span>}
        {crumb.href ? (
          <a href={crumb.href} class="hover:text-[var(--color-accent)] transition-colors">
            {crumb.label}
          </a>
        ) : (
          <span class="text-[var(--color-text-primary)] font-medium">{crumb.label}</span>
        )}
      </li>
    ))}
  </ol>
</nav>
