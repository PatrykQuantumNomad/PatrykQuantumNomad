---
import { getCollection } from 'astro:content';
import Layout from '../layouts/Layout.astro';

const posts = await getCollection('blog', ({ data }) => {
  return import.meta.env.PROD ? data.draft !== true : true;
});

const latestPosts = posts
  .sort((a, b) => b.data.publishedDate.valueOf() - a.data.publishedDate.valueOf())
  .slice(0, 3);
---

<Layout
  title="Patryk Golabek — Cloud-Native Software Architect | Portfolio"
  description="Portfolio of Patryk Golabek, a Cloud-Native Software Architect with 17+ years building Kubernetes, AI/ML, and platform engineering solutions."
>
  <!-- Hero Section -->
  <section class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-20 sm:py-28">
    <h1 class="text-4xl sm:text-5xl lg:text-6xl font-heading font-bold mb-4">
      Patryk Golabek
    </h1>
    <p class="text-xl sm:text-2xl text-[var(--color-accent)] font-heading font-medium mb-6">
      <span id="typing-role" class="typing-cursor">Cloud-Native Architect</span>
    </p>
    <p class="text-lg text-[var(--color-text-secondary)] max-w-2xl mb-8">
      Building resilient cloud-native systems and AI-powered solutions for 17+ years.
      Pre-1.0 Kubernetes adopter. Ontario, Canada.
    </p>
    <div class="flex flex-wrap gap-4">
      <a
        href="/projects/"
        class="inline-flex items-center px-6 py-3 rounded-lg bg-[var(--color-accent)] text-white font-medium hover:bg-[var(--color-accent-hover)] transition-colors"
      >
        View Projects
      </a>
      <a
        href="/blog/"
        class="inline-flex items-center px-6 py-3 rounded-lg border border-[var(--color-accent)] text-[var(--color-accent)] font-medium hover:bg-[var(--color-accent)]/10 transition-colors"
      >
        Read Blog
      </a>
    </div>
  </section>

  <!-- Skills / What I Build Section -->
  <section class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
    <h2 class="text-2xl sm:text-3xl font-heading font-bold mb-8">What I Build</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">

      <!-- Cloud-Native & Kubernetes -->
      <div class="p-6 rounded-lg border border-[var(--color-border)] bg-[var(--color-surface-alt)]">
        <div class="mb-4 text-[var(--color-accent)]">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15a4.5 4.5 0 004.5 4.5H18a3.75 3.75 0 001.332-7.257 3 3 0 00-3.758-3.848 5.25 5.25 0 00-10.233 2.33A4.502 4.502 0 002.25 15z" />
          </svg>
        </div>
        <h3 class="text-lg font-heading font-bold mb-2">Cloud-Native & Kubernetes</h3>
        <p class="text-sm text-[var(--color-text-secondary)]">
          Designing and operating production Kubernetes clusters since pre-1.0. Service meshes, GitOps, observability stacks.
        </p>
      </div>

      <!-- AI/ML Systems -->
      <div class="p-6 rounded-lg border border-[var(--color-border)] bg-[var(--color-surface-alt)]">
        <div class="mb-4 text-[var(--color-accent)]">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.455 2.456L21.75 6l-1.036.259a3.375 3.375 0 00-2.455 2.456z" />
          </svg>
        </div>
        <h3 class="text-lg font-heading font-bold mb-2">AI/ML Systems</h3>
        <p class="text-sm text-[var(--color-text-secondary)]">
          Building LLM agents, RAG pipelines, and intelligent automation with LangGraph, Langflow, and custom orchestration.
        </p>
      </div>

      <!-- Platform Engineering -->
      <div class="p-6 rounded-lg border border-[var(--color-border)] bg-[var(--color-surface-alt)]">
        <div class="mb-4 text-[var(--color-accent)]">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M11.42 15.17l-5.1-3.03a1.5 1.5 0 01-.55-2.05l3.03-5.1a1.5 1.5 0 012.05-.55l5.1 3.03a1.5 1.5 0 01.55 2.05l-3.03 5.1a1.5 1.5 0 01-2.05.55zM20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5m8.25 3v6.75m0 0l-3-3m3 3l3-3" />
          </svg>
        </div>
        <h3 class="text-lg font-heading font-bold mb-2">Platform Engineering</h3>
        <p class="text-sm text-[var(--color-text-secondary)]">
          Infrastructure as Code with Terraform and Terragrunt. CI/CD pipelines, DevSecOps, and developer experience.
        </p>
      </div>

      <!-- Full-Stack Development -->
      <div class="p-6 rounded-lg border border-[var(--color-border)] bg-[var(--color-surface-alt)]">
        <div class="mb-4 text-[var(--color-accent)]">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5" />
          </svg>
        </div>
        <h3 class="text-lg font-heading font-bold mb-2">Full-Stack Development</h3>
        <p class="text-sm text-[var(--color-text-secondary)]">
          Python, Java, TypeScript. React, Angular, Next.js. APIs, microservices, and data pipelines.
        </p>
      </div>

    </div>
  </section>

  <!-- Latest Blog Posts Section -->
  <section class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
    <h2 class="text-2xl sm:text-3xl font-heading font-bold mb-8">Latest Writing</h2>
    {latestPosts.length > 0 ? (
      <div class="space-y-6">
        {latestPosts.map((post) => (
          <article class="p-6 rounded-lg border border-[var(--color-border)] bg-[var(--color-surface-alt)]">
            <a
              href={`/blog/${post.id}/`}
              class="text-lg font-heading font-bold text-[var(--color-text-primary)] hover:text-[var(--color-accent)] transition-colors"
            >
              {post.data.title}
            </a>
            <p class="text-sm text-[var(--color-text-secondary)] mt-1">
              <time datetime={post.data.publishedDate.toISOString()}>
                {post.data.publishedDate.toLocaleDateString('en-CA', { year: 'numeric', month: 'long', day: 'numeric' })}
              </time>
            </p>
            <p class="text-sm text-[var(--color-text-secondary)] mt-2">
              {post.data.description}
            </p>
          </article>
        ))}
      </div>
    ) : (
      <p class="text-[var(--color-text-secondary)]">No posts yet. Check back soon!</p>
    )}
    <div class="mt-8">
      <a
        href="/blog/"
        class="text-[var(--color-accent)] hover:text-[var(--color-accent-hover)] font-medium transition-colors"
      >
        View all posts &rarr;
      </a>
    </div>
  </section>

  <!-- Contact CTA Section -->
  <section class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
    <h2 class="text-2xl sm:text-3xl font-heading font-bold mb-4">Interested in working together?</h2>
    <p class="text-[var(--color-text-secondary)] mb-8 max-w-2xl">
      Whether you need a cloud-native architect, want to collaborate on an open-source project, or just want to chat about Kubernetes and AI — I'd love to hear from you.
    </p>
    <div class="flex flex-wrap gap-4">
      <a
        href="mailto:patryk@translucentcomputing.com"
        class="inline-flex items-center px-6 py-3 rounded-lg bg-[var(--color-accent)] text-white font-medium hover:bg-[var(--color-accent-hover)] transition-colors"
      >
        Get in Touch
      </a>
      <a
        href="https://www.linkedin.com/in/patrykgolabek/"
        target="_blank"
        rel="noopener noreferrer"
        class="inline-flex items-center px-6 py-3 rounded-lg border border-[var(--color-accent)] text-[var(--color-accent)] font-medium hover:bg-[var(--color-accent)]/10 transition-colors"
      >
        Connect on LinkedIn
      </a>
    </div>
  </section>
</Layout>

<style>
  .typing-cursor::after {
    content: '|';
    animation: blink 0.8s step-end infinite;
    color: var(--color-accent);
  }
  @keyframes blink {
    50% { opacity: 0; }
  }
</style>

<script is:inline>
  (function() {
    const roles = ['Cloud-Native Architect', 'Kubernetes Pioneer', 'AI/ML Engineer', 'Platform Builder'];
    let i = 0;
    const el = document.getElementById('typing-role');
    if (el) {
      setInterval(function() {
        i = (i + 1) % roles.length;
        el.textContent = roles[i];
      }, 3000);
    }
  })();
</script>
