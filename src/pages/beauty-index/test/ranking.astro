---
/**
 * Ranking Chart Test Page — Beauty Index
 * Development-only page for visual validation of the RankingBarChart
 * component with all 25 languages from the content collection.
 */
import Layout from '../../../layouts/Layout.astro';
import { getCollection } from 'astro:content';
import RankingBarChart from '../../../components/beauty-index/RankingBarChart.astro';

const languages = await getCollection('languages');
const allLanguageData = languages.map((entry) => entry.data);
---

<Layout title="Ranking Chart Test — Beauty Index">
  <section class="max-w-5xl mx-auto px-6 py-12">
    <div class="mb-8 p-4 bg-yellow-50 border border-yellow-200 rounded-lg">
      <p class="text-sm text-yellow-800">
        This is a development test page. It will not be included in the final site.
      </p>
    </div>

    <h1 class="text-3xl font-bold mb-8 text-[var(--color-text-primary)]">
      Ranking Chart Test — Beauty Index
    </h1>

    <p class="text-sm text-[var(--color-text-secondary)] mb-8">
      All {allLanguageData.length} languages ranked by total beauty score, displayed as a stacked horizontal bar chart.
    </p>

    <div class="overflow-x-auto">
      <RankingBarChart languages={allLanguageData} />
    </div>
  </section>
</Layout>
