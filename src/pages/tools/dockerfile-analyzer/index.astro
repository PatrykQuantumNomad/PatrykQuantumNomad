---
import Layout from '../../../layouts/Layout.astro';
import DockerfileAnalyzer from '../../../components/tools/DockerfileAnalyzer';
import BreadcrumbJsonLd from '../../../components/BreadcrumbJsonLd.astro';
import DockerfileAnalyzerJsonLd from '../../../components/DockerfileAnalyzerJsonLd.astro';

const siteBase = (Astro.site?.toString() ?? 'https://patrykgolabek.dev').replace(/\/$/, '');
---

<Layout
  title="Dockerfile Analyzer | Patryk Golabek"
  description="Free Dockerfile linter and best-practice analyzer by a Kubernetes architect. 39 rules for security, efficiency, and maintainability. 100% browser-based — your code never leaves your device."
>
  <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12">
    <nav aria-label="Breadcrumb" class="mb-4 text-sm text-[var(--color-text-secondary)]">
      <ol class="flex flex-wrap items-center gap-1">
        <li><a href="/" class="hover:text-[var(--color-accent)] transition-colors">Home</a></li>
        <li aria-hidden="true" class="mx-1">/</li>
        <li><a href="/tools/" class="hover:text-[var(--color-accent)] transition-colors">Tools</a></li>
        <li aria-hidden="true" class="mx-1">/</li>
        <li><span aria-current="page" class="text-[var(--color-text-primary)] font-medium">Dockerfile Analyzer</span></li>
      </ol>
    </nav>

    <h1 class="text-3xl sm:text-4xl font-heading font-bold mb-2 text-[var(--color-text-primary)]">
      Dockerfile Analyzer
    </h1>
    <p class="text-[var(--color-text-secondary)] mb-8 max-w-2xl">
      Paste your Dockerfile below and click <strong>Analyze</strong> for best-practice feedback
      from a Kubernetes architect's perspective. 100% client-side — your code never leaves your browser.
    </p>

    <DockerfileAnalyzer client:only="react" />

    <aside class="mt-8 p-4 rounded-lg border border-[var(--color-border)]">
      <p class="text-sm text-[var(--color-text-secondary)]">
        Want to learn the rules in depth? Read the
        <a href="/blog/dockerfile-best-practices/" class="text-[var(--color-accent)] hover:text-[var(--color-accent-hover)] transition-colors font-medium">
          companion guide: 39 Dockerfile Best Practices
        </a>
        or browse
        <a href="/tools/dockerfile-analyzer/rules/dl3006/" class="text-[var(--color-accent)] hover:text-[var(--color-accent-hover)] transition-colors font-medium">
          individual rule documentation
        </a>.
      </p>
    </aside>
  </section>

  <BreadcrumbJsonLd crumbs={[
    { name: 'Home', url: siteBase },
    { name: 'Tools', url: `${siteBase}/tools/` },
    { name: 'Dockerfile Analyzer', url: `${siteBase}/tools/dockerfile-analyzer/` },
  ]} />
  <DockerfileAnalyzerJsonLd />
</Layout>
